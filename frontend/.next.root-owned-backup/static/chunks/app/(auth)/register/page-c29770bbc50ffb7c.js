(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{3930:function(e,t,s){Promise.resolve().then(s.bind(s,2781))},2781:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var a=s(7437),r=s(2265),n=s(6648),i=s(7138),l=s(6463),o=s(1014),d=s(9343),c=s(537),u=s(2328),m=s(1295),x=s(495),h=s(6264);let f=e=>c.Ry({email:c.Z_().min(1,e("Email is required")).email(e("Enter a valid email address")),password:c.Z_().min(8,e("Password must be at least 8 characters")),confirmPassword:c.Z_().min(1,e("Confirm your password")).min(8,e("Password must be at least 8 characters"))}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:e("Passwords do not match")}),p=[{title:"Design",detail:"Create collection-specific metadata schemas."},{title:"Document",detail:"Capture provenance, notes, and condition."},{title:"Share",detail:"Publish public collections when ready."}];function b(){let e=(0,l.useRouter)(),{status:t}=(0,u.a)(),{t:s}=(0,m.Q)(),[c,b]=r.useState(null),[g,w]=r.useState(null),[v,j]=r.useState(null),y=r.useMemo(()=>f(s),[s]),{register:N,handleSubmit:k,formState:{errors:C,isSubmitting:P}}=(0,d.cI)({resolver:(0,o.F)(y),defaultValues:{email:"",password:"",confirmPassword:""}});r.useEffect(()=>{"authenticated"===t&&e.replace("/dashboard")},[t,e]);let S=async e=>{b(null),w(null);try{let t=await h.iJ.register({email:e.email,password:e.password});j(e.email),w(t.message||"Check your inbox for the verification link.")}catch(e){b((0,h.k0)(e)?e.detail:"We couldn't create your account. Please try again.")}};if("authenticated"===t)return(0,a.jsx)("div",{className:"col-span-full flex min-h-[60vh] items-center justify-center text-sm text-stone-500",children:s("Redirecting to your workspace...")});let A=!!v;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)(i.default,{href:"/",className:"flex items-center gap-3",children:[(0,a.jsx)(n.default,{src:"/logo.png",alt:"Antique Catalogue",width:44,height:44,className:"rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-display text-lg tracking-tight",children:s("Antique Catalogue")}),(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-stone-500",children:s("Studio Archive")})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm text-stone-600",children:[(0,a.jsx)("span",{className:"hidden sm:inline",children:s("Already have an account?")}),(0,a.jsx)(x.z,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsx)(i.default,{href:"/login",children:s("Sign in")})})]})]}),(0,a.jsxs)("section",{className:"mt-10 rounded-3xl border border-stone-200 bg-white/90 p-8 shadow-sm",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.4em] text-amber-700",children:s("Create your studio")}),(0,a.jsx)("h1",{className:"font-display mt-4 text-3xl text-stone-900",children:s("Start cataloguing in minutes.")}),(0,a.jsx)("p",{className:"mt-3 text-sm text-stone-600",children:s("Build a secure, searchable archive for every piece you collect.")}),c?(0,a.jsx)("div",{role:"alert",className:"mt-6 rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:s(c)}):null,g?(0,a.jsxs)("div",{role:"status",className:"mt-6 rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:[(0,a.jsx)("p",{className:"font-medium",children:s(g)}),v?(0,a.jsx)("p",{className:"mt-2 text-xs text-emerald-700",children:s("We sent a verification token to {email}. Enter it on the verification page to activate your account.",{email:v})}):null]}):null,(0,a.jsxs)("form",{className:"mt-6 space-y-5",onSubmit:k(S),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-stone-700",htmlFor:"email",children:s("Email address")}),(0,a.jsx)("input",{id:"email",type:"email",autoComplete:"email",disabled:A,className:"mt-2 w-full rounded-xl border border-stone-200 bg-white px-4 py-3 text-sm text-stone-900 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200 disabled:cursor-not-allowed disabled:bg-stone-100","aria-invalid":C.email?"true":"false",...N("email")}),C.email?(0,a.jsx)("p",{className:"mt-2 text-xs text-rose-600",children:C.email.message}):null]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-stone-700",htmlFor:"password",children:s("Password")}),(0,a.jsx)("input",{id:"password",type:"password",autoComplete:"new-password",disabled:A,className:"mt-2 w-full rounded-xl border border-stone-200 bg-white px-4 py-3 text-sm text-stone-900 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200 disabled:cursor-not-allowed disabled:bg-stone-100","aria-invalid":C.password?"true":"false",...N("password")}),C.password?(0,a.jsx)("p",{className:"mt-2 text-xs text-rose-600",children:C.password.message}):null]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-stone-700",htmlFor:"confirmPassword",children:s("Confirm password")}),(0,a.jsx)("input",{id:"confirmPassword",type:"password",autoComplete:"new-password",disabled:A,className:"mt-2 w-full rounded-xl border border-stone-200 bg-white px-4 py-3 text-sm text-stone-900 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200 disabled:cursor-not-allowed disabled:bg-stone-100","aria-invalid":C.confirmPassword?"true":"false",...N("confirmPassword")}),C.confirmPassword?(0,a.jsx)("p",{className:"mt-2 text-xs text-rose-600",children:C.confirmPassword.message}):null]}),(0,a.jsx)(x.z,{type:"submit",size:"lg",className:"w-full",disabled:P||A,children:A?s("Check your email"):P?s("Creating account..."):s("Create account")})]}),(0,a.jsx)("p",{className:"mt-6 text-xs text-stone-500",children:s("By creating an account you agree to receive verification emails from Antique Catalogue.")}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 text-xs text-stone-500",children:[(0,a.jsx)("span",{children:s("Already verified?")}),(0,a.jsx)(i.default,{href:"/verify",className:"font-medium text-amber-700 hover:text-amber-800",children:s("Enter verification token")})]})]})]}),(0,a.jsxs)("aside",{className:"order-first lg:order-none",children:[(0,a.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/80 p-8 shadow-sm",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.4em] text-stone-500",children:s("How it works")}),(0,a.jsx)("h2",{className:"font-display mt-4 text-3xl text-stone-900",children:s("Your collection studio, built for detail.")}),(0,a.jsx)("p",{className:"mt-3 text-sm text-stone-600",children:s("Antique Catalogue blends structured metadata with imagery so every object is documented with context.")}),(0,a.jsx)("div",{className:"mt-6 space-y-4",children:p.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-4 rounded-2xl border border-stone-200 bg-stone-50/80 p-4",children:[(0,a.jsxs)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-amber-100 text-sm font-semibold text-amber-800",children:["0",t+1]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-stone-900",children:s(e.title)}),(0,a.jsx)("p",{className:"mt-1 text-xs text-stone-500",children:s(e.detail)})]})]},e.title))})]}),(0,a.jsxs)("div",{className:"mt-6 rounded-3xl border border-stone-900/90 bg-gradient-to-br from-stone-950 via-stone-900 to-stone-800 p-6 text-stone-100 shadow-sm",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:s("Studio note")}),(0,a.jsx)("p",{className:"mt-3 text-sm text-stone-300",children:s("Mobile camera capture is built in. Photograph artifacts wherever you catalogue, then let the platform handle the rest.")})]})]})]})}},2328:function(e,t,s){"use strict";s.d(t,{H:function(){return l},a:function(){return o}});var a=s(7437),r=s(2265),n=s(6264);let i=r.createContext(void 0),l=e=>{let{children:t}=e,[s,l]=r.useState(null),[o,d]=r.useState("loading"),[c,u]=r.useState(null),m=r.useCallback(async()=>{d("loading"),u(null);try{let e=await n.iJ.me();l(e),d("authenticated")}catch(e){l(null),(0,n.k0)(e)&&(401===e.status||403===e.status)?d("unauthenticated"):(d("unauthenticated"),u((0,n.k0)(e)?e.detail:"Unable to reach server"))}},[]);r.useEffect(()=>{m()},[m]);let x=r.useCallback(async e=>{u(null),await n.iJ.login(e),await m()},[m]),h=r.useCallback(async()=>{u(null);try{await n.iJ.logout()}finally{l(null),d("unauthenticated")}},[]),f=r.useCallback(async()=>{await m()},[m]),p=r.useMemo(()=>({user:s,status:o,error:c,isAuthenticated:"authenticated"===o,login:x,logout:h,refresh:f}),[s,o,c,x,h,f]);return(0,a.jsx)(i.Provider,{value:p,children:t})},o=()=>{let e=r.useContext(i);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},495:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var a=s(7437),r=s(2265),n=s(2974),i=s(3027),l=s(7440);let o=(0,i.j)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:r,size:i,className:s})),ref:t,...c})});d.displayName="Button"},7440:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(4839),r=s(6164);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[165,138,648,439,846,971,23,744],function(){return e(e.s=3930)}),_N_E=e.O()}]);