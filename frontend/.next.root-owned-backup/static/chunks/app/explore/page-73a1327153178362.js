(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[607],{1167:function(e,t,s){Promise.resolve().then(s.bind(s,5897))},5897:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var a=s(7437),r=s(2265),n=s(6648),l=s(7138),i=s(9896),c=s(4817),o=s(4378),d=s(874),x=s(7385),u=s(9338),h=s(1976),m=s(495),p=s(2328),f=s(1295),g=s(6264);let j=(e,t)=>{if(!e)return"-";let s=new Date(e);return Number.isNaN(s.getTime())?e:new Intl.DateTimeFormat(t,{month:"short",day:"numeric",year:"numeric"}).format(s)},b=(e,t)=>{if(!t)return e;let s=t.toLowerCase();return e.filter(e=>{var t,a;let r=null!==(t=e.description)&&void 0!==t?t:"",n=null!==(a=e.owner_username)&&void 0!==a?a:"";return e.name.toLowerCase().includes(s)||r.toLowerCase().includes(s)||n.toLowerCase().includes(s)})};function v(){var e;let{isAuthenticated:t,logout:s,status:v}=(0,p.a)(),{t:y,locale:w}=(0,f.Q)(),[N,k]=r.useState({status:"loading",data:[]}),[C,Z]=r.useState(""),[z,M]=r.useState(!1),_=r.useCallback(async()=>{k(e=>({...e,status:"loading",error:void 0}));try{let e=await g.LQ.list();k({status:"ready",data:e})}catch(e){k(t=>({status:"error",data:t.data,error:(0,g.k0)(e)?e.detail:"We couldn't load public collections."}))}},[]);r.useEffect(()=>{_()},[_]);let L=r.useMemo(()=>b(N.data,C.trim()),[N.data,C]),S=N.data.length,A=async()=>{if(!z){M(!0);try{await s()}finally{M(!1)}}};return(0,a.jsxs)("main",{className:"relative min-h-screen overflow-hidden bg-stone-50 text-stone-950",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute -top-32 right-0 h-72 w-72 rounded-full bg-amber-300/20 blur-[100px]"}),(0,a.jsx)("div",{className:"pointer-events-none absolute top-[35%] left-[-8%] h-72 w-72 rounded-full bg-amber-200/25 blur-[140px]"}),(0,a.jsx)("div",{className:"pointer-events-none absolute bottom-[-15%] right-[-8%] h-80 w-80 rounded-full bg-stone-900/10 blur-[160px]"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("header",{className:"px-6 py-6 lg:px-12",children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-6xl items-center justify-between",children:[(0,a.jsxs)(l.default,{href:"/",className:"flex items-center gap-3",children:[(0,a.jsx)(n.default,{src:"/logo.png",alt:"Antique Catalogue",width:44,height:44,className:"rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-display text-lg tracking-tight",children:y("Antique Catalogue")}),(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-stone-500",children:y("Studio Archive")})]})]}),(0,a.jsxs)("nav",{className:"hidden items-center gap-6 text-sm text-stone-600 md:flex",children:[(0,a.jsx)(l.default,{href:"/",className:"hover:text-stone-900",children:y("Home")}),(0,a.jsx)(l.default,{href:"/explore",className:"font-medium text-stone-900",children:y("Explore")}),(0,a.jsx)(l.default,{href:"/dashboard",className:"hover:text-stone-900",children:y("Dashboard")})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:"authenticated"===v&&t?(0,a.jsxs)(m.z,{variant:"secondary",onClick:A,disabled:z,children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),z?y("Logging out..."):y("Log out")]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.z,{variant:"ghost",className:"hidden sm:inline-flex",asChild:!0,children:(0,a.jsx)(l.default,{href:"/login",children:y("Log in")})}),(0,a.jsx)(m.z,{asChild:!0,children:(0,a.jsx)(l.default,{href:"/register",children:y("Create account")})})]})})]})}),(0,a.jsx)("section",{children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col gap-10 px-6 pb-12 pt-6 lg:flex-row lg:items-center lg:px-12 lg:pt-12",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.4em] text-amber-700",children:y("Public directory")}),(0,a.jsx)("h1",{className:"font-display mt-4 text-4xl text-stone-900 sm:text-5xl",children:y("Explore shared collections and curated archives.")}),(0,a.jsx)("p",{className:"mt-4 max-w-xl text-sm text-stone-600 sm:text-base",children:y("Browse public catalogues to discover provenance notes, condition details, and restoration history from collectors worldwide.")}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3",children:[(0,a.jsx)(m.z,{size:"lg",asChild:!0,children:(0,a.jsx)(l.default,{href:"/register",children:y("Start your own archive")})}),(0,a.jsx)(m.z,{size:"lg",variant:"outline",asChild:!0,children:(0,a.jsx)(l.default,{href:"/dashboard",children:y("Go to dashboard")})})]}),(0,a.jsxs)("div",{className:"mt-8 rounded-2xl border border-stone-200 bg-white/90 p-4 shadow-sm",children:[(0,a.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:y("Search collections")}),(0,a.jsxs)("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-stone-200 bg-white px-3 py-2 shadow-sm",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 text-stone-400"}),(0,a.jsx)("input",{type:"search",className:"w-full text-sm text-stone-700 focus:outline-none",placeholder:y("Search by collection name or description"),value:C,onChange:e=>Z(e.target.value)})]}),(0,a.jsx)("p",{className:"mt-3 text-xs text-stone-500",children:y("Showing {shown} of {total} public collections.",{shown:L.length,total:S})})]})]}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white p-6 shadow-[0_18px_60px_-40px_rgba(15,23,42,0.35)]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:y("Directory snapshot")}),(0,a.jsx)("span",{className:"rounded-full bg-emerald-100 px-3 py-1 text-xs font-medium text-emerald-700",children:y("Live")})]}),(0,a.jsx)("h2",{className:"font-display mt-4 text-2xl text-stone-900",children:y("Public collections")}),(0,a.jsx)("p",{className:"mt-3 text-sm text-stone-600",children:y("Discover what others are cataloguing and share your own collection when you are ready.")}),(0,a.jsxs)("div",{className:"mt-6 grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-100 bg-stone-50 p-4",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:y("Total")}),(0,a.jsx)("p",{className:"mt-3 text-2xl font-semibold text-stone-900",children:"ready"===N.status?S:"-"}),(0,a.jsx)("p",{className:"mt-2 text-xs text-stone-500",children:y("Shared archives")})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-100 bg-stone-50 p-4",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:y("Access")}),(0,a.jsx)("p",{className:"mt-3 text-2xl font-semibold text-stone-900",children:y("Free")}),(0,a.jsx)("p",{className:"mt-2 text-xs text-stone-500",children:y("Read-only browsing")})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-between rounded-2xl bg-stone-900 px-4 py-3 text-stone-100",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:y("Publish your work")}),(0,a.jsx)("p",{className:"text-sm font-medium",children:y("Share curated catalogues publicly.")})]}),(0,a.jsx)(m.z,{size:"sm",variant:"secondary",asChild:!0,children:(0,a.jsx)(l.default,{href:"/collections/new",children:y("Create collection")})})]})]})})]})}),(0,a.jsxs)("section",{className:"mx-auto max-w-6xl px-6 pb-16 lg:px-12",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:y("Public collections")}),(0,a.jsx)("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:y("Browse the directory.")})]}),(0,a.jsxs)(m.z,{variant:"outline",onClick:()=>_(),children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),y("Refresh")]})]}),"loading"===N.status?(0,a.jsx)("div",{className:"mt-6 rounded-3xl border border-dashed border-stone-200 bg-white/80 p-8 text-sm text-stone-500","aria-busy":"true",children:y("Loading public collections...")}):"error"===N.status?(0,a.jsxs)("div",{className:"mt-6 rounded-3xl border border-rose-200 bg-rose-50/80 p-6",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-rose-700",children:y("We hit a snag loading the directory.")}),(0,a.jsx)("p",{className:"mt-2 text-sm text-rose-600",children:y(null!==(e=N.error)&&void 0!==e?e:"Please try again.")}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(m.z,{variant:"outline",onClick:()=>_(),children:y("Try again")})})]}):0===L.length?(0,a.jsx)("div",{className:"mt-6 rounded-3xl border border-stone-200 bg-white/80 p-8",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:y("No matches")}),(0,a.jsx)("h3",{className:"font-display mt-3 text-2xl text-stone-900",children:y("We could not find collections for that search.")}),(0,a.jsx)("p",{className:"mt-3 max-w-xl text-sm text-stone-600",children:y("Try adjusting your search terms or refresh to see the latest public catalogues.")}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3",children:[(0,a.jsx)(m.z,{variant:"outline",onClick:()=>Z(""),children:y("Clear search")}),(0,a.jsx)(m.z,{asChild:!0,children:(0,a.jsx)(l.default,{href:"/register",children:y("Create your own")})})]})]}),(0,a.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-amber-100 text-amber-700",children:(0,a.jsx)(d.Z,{className:"h-8 w-8"})})]})}):(0,a.jsx)("div",{className:"mt-6 grid gap-4 lg:grid-cols-2",children:L.map(e=>{var t,s;return(0,a.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/90 p-6 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1 text-xs font-medium text-emerald-700",children:[(0,a.jsx)(d.Z,{className:"h-3.5 w-3.5"}),y("Public")]}),(0,a.jsx)("span",{className:"text-xs text-stone-500",children:y("Updated {date}",{date:j(e.updated_at,w)})})]}),(0,a.jsx)("h3",{className:"mt-4 text-xl font-semibold text-stone-900",children:e.name}),e.owner_username?(0,a.jsxs)("p",{className:"mt-1 text-xs text-stone-500",children:[y("By")," ",(0,a.jsxs)(l.default,{href:"/profile/".concat(encodeURIComponent(e.owner_username)),className:"font-medium text-amber-700 hover:text-amber-800",children:["@",e.owner_username]})]}):null,(0,a.jsx)("p",{className:"mt-2 text-sm text-stone-600",children:null!==(t=e.description)&&void 0!==t?t:y("This collection is ready to be explored.")}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-xs text-stone-500",children:[(0,a.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 text-amber-600"}),y("Created {date}",{date:j(e.created_at,w)})]}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 text-amber-600"}),y("{count} stars",{count:null!==(s=e.star_count)&&void 0!==s?s:0})]})]}),(0,a.jsx)(m.z,{size:"sm",variant:"secondary",asChild:!0,children:(0,a.jsxs)(l.default,{href:"/explore/".concat(e.id),children:[y("View collection"),(0,a.jsx)(h.Z,{className:"h-4 w-4"})]})})]})]},e.id)})})]})]})]})}},2328:function(e,t,s){"use strict";s.d(t,{H:function(){return i},a:function(){return c}});var a=s(7437),r=s(2265),n=s(6264);let l=r.createContext(void 0),i=e=>{let{children:t}=e,[s,i]=r.useState(null),[c,o]=r.useState("loading"),[d,x]=r.useState(null),u=r.useCallback(async()=>{o("loading"),x(null);try{let e=await n.iJ.me();i(e),o("authenticated")}catch(e){i(null),(0,n.k0)(e)&&(401===e.status||403===e.status)?o("unauthenticated"):(o("unauthenticated"),x((0,n.k0)(e)?e.detail:"Unable to reach server"))}},[]);r.useEffect(()=>{u()},[u]);let h=r.useCallback(async e=>{x(null),await n.iJ.login(e),await u()},[u]),m=r.useCallback(async()=>{x(null);try{await n.iJ.logout()}finally{i(null),o("unauthenticated")}},[]),p=r.useCallback(async()=>{await u()},[u]),f=r.useMemo(()=>({user:s,status:c,error:d,isAuthenticated:"authenticated"===c,login:h,logout:m,refresh:p}),[s,c,d,h,m,p]);return(0,a.jsx)(l.Provider,{value:f,children:t})},c=()=>{let e=r.useContext(l);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},495:function(e,t,s){"use strict";s.d(t,{z:function(){return o}});var a=s(7437),r=s(2265),n=s(2974),l=s(3027),i=s(7440);let c=(0,l.j)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:o=!1,...d}=e,x=o?n.g7:"button";return(0,a.jsx)(x,{className:(0,i.cn)(c({variant:r,size:l,className:s})),ref:t,...d})});o.displayName="Button"},7440:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(4839),r=s(6164);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},1066:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:x="",children:u,...h}=s;return(0,a.createElement)("svg",{ref:l,...r,width:c,height:c,stroke:i,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(n(e)),x].join(" "),...h},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(u)?u:[u]])});return s.displayName="".concat(e),s}},1976:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},7385:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},874:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},9896:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},4378:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},4817:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9338:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])}},function(e){e.O(0,[165,138,648,846,971,23,744],function(){return e(e.s=1167)}),_N_E=e.O()}]);