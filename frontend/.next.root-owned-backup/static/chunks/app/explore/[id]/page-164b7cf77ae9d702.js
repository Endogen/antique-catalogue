(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{4626:function(e,t,s){Promise.resolve().then(s.bind(s,3753))},3753:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var a=s(7437),r=s(2265),l=s(6648),n=s(7138),i=s(6463),o=s(9896),c=s(5137),d=s(9338),u=s(4378),m=s(874),x=s(7385),h=s(4817),f=s(495),p=s(1918),g=s(2328),b=s(1295),v=s(6264);let j=e=>[{label:e("Newest first"),value:"-created_at"},{label:e("Oldest first"),value:"created_at"},{label:e("Name A to Z"),value:"name"},{label:e("Name Z to A"),value:"-name"}];function y(){var e,t,s,y,N,w,k,C,_,S,Z,M;let{isAuthenticated:L,logout:z,status:A}=(0,g.a)(),R=(0,i.useParams)(),{t:P,locale:E}=(0,b.Q)(),O=Array.isArray(null==R?void 0:R.id)?R.id[0]:null==R?void 0:R.id,W=r.useMemo(()=>j(P),[P]),I=r.useCallback(e=>{if(!e)return"-";let t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat(E,{month:"short",day:"numeric",year:"numeric"}).format(t)},[E]),U=r.useCallback(e=>null==e?"-":"string"==typeof e?e:"number"==typeof e?new Intl.NumberFormat(E).format(e):"boolean"==typeof e?e?P("Yes"):P("No"):Array.isArray(e)?e.join(", "):"object"==typeof e?P("Details"):String(e),[E,P]),[T,D]=r.useState({status:"loading"}),[Y,B]=r.useState({status:"loading",data:[],hasMore:!1}),[H,q]=r.useState(""),[F,V]=r.useState(null!==(C=null===(e=W[0])||void 0===e?void 0:e.value)&&void 0!==C?C:"-created_at"),[J,Q]=r.useState(!1),[$,G]=r.useState(!1),[K,X]=r.useState(0),[ee,et]=r.useState(!1),[es,ea]=r.useState(null),[er,el]=r.useState(!1),[en,ei]=r.useState(!1),[eo,ec]=r.useState(!1),[ed,eu]=r.useState(null),[em,ex]=r.useState({}),[eh,ef]=r.useState({}),[ep,eg]=r.useState(null),eb="authenticated"===A&&L,ev=r.useCallback(async()=>{if(!O){D({status:"error",error:"Collection ID was not provided."});return}D({status:"loading"});try{let e=await v.LQ.get(O);D({status:"ready",data:e})}catch(e){D({status:"error",error:(0,v.k0)(e)?e.detail:"We couldn't load this collection."})}},[O]);r.useEffect(()=>{ev()},[ev]),r.useEffect(()=>{if(!O){B({status:"error",data:[],error:"Collection ID was not provided.",hasMore:!1});return}let e=!0,t=setTimeout(()=>{(async()=>{B({status:"loading",data:[],error:void 0,hasMore:!1}),ea(null);try{let t=await v.wS.list(O,{search:H.trim()||void 0,sort:F,offset:0,limit:12});if(!e)return;B({status:"ready",data:t,hasMore:12===t.length})}catch(t){if(!e)return;B({status:"error",data:[],error:(0,v.k0)(t)?t.detail:"We couldn't load items in this collection.",hasMore:!1})}})()},300);return()=>{e=!1,clearTimeout(t)}},[O,H,F,K]);let ej=r.useCallback(async()=>{if(!O||!eb){ei(!1);return}try{let e=await v.Y4.collectionStatus(O);ei(e.starred),D(t=>"ready"===t.status&&t.data?{...t,data:{...t.data,star_count:e.star_count}}:t)}catch(e){(0,v.k0)(e)&&404===e.status||eu((0,v.k0)(e)?e.detail:"We couldn't update star status.")}},[O,eb]);r.useEffect(()=>{ej()},[ej]);let ey=r.useMemo(()=>Y.data.map(e=>e.id),[Y.data]);r.useEffect(()=>{if(!O||!eb||"ready"!==Y.status){ex({});return}let e=!0;return(async()=>{let t=await Promise.all(ey.map(async e=>{try{let t=await v.Y4.itemStatus(O,e);return{itemId:e,status:t}}catch(t){return{itemId:e,status:null}}}));if(!e)return;let s={};t.forEach(e=>{let{itemId:t,status:a}=e;s[t]=!!(null==a?void 0:a.starred)}),ex(s)})(),()=>{e=!1}},[O,ey,Y.status,eb]);let eN=()=>{ev(),ej(),eu(null),eg(null),X(e=>e+1)},ew=async()=>{if(O&&eb&&!eo){eu(null),ec(!0);try{let e=en?await v.Y4.unstarCollection(O):await v.Y4.starCollection(O);ei(e.starred),D(t=>"ready"===t.status&&t.data?{...t,data:{...t.data,star_count:e.star_count}}:t)}catch(e){eu((0,v.k0)(e)?e.detail:"We couldn't update stars.")}finally{ec(!1)}}},ek=async e=>{if(!O||!eb||eh[e])return;eg(null);let t=!!em[e];ef(t=>({...t,[e]:!0}));try{let s=t?await v.Y4.unstarItem(O,e):await v.Y4.starItem(O,e);ex(t=>({...t,[e]:s.starred})),B(t=>"ready"!==t.status?t:{...t,data:t.data.map(t=>t.id===e?{...t,star_count:s.star_count}:t)})}catch(e){eg((0,v.k0)(e)?e.detail:"We couldn't update stars.")}finally{ef(t=>{let s={...t};return delete s[e],s})}},eC=async()=>{if(O&&"ready"===Y.status&&Y.hasMore&&!ee){et(!0),ea(null);try{let e=await v.wS.list(O,{search:H.trim()||void 0,sort:F,offset:Y.data.length,limit:12});B(t=>({...t,data:[...t.data,...e],hasMore:12===e.length}))}catch(e){ea((0,v.k0)(e)?e.detail:"We couldn't load more items.")}finally{et(!1)}}},e_=Y.data.length,eS=Y.data.filter(e=>(!J||!!e.primary_image_id)&&(!$||!!e.is_highlight)),eZ=async()=>{if(!er){el(!0);try{await z()}finally{el(!1)}}};return(0,a.jsxs)("main",{className:"relative min-h-screen overflow-hidden bg-stone-50 text-stone-950",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute -top-32 right-0 h-72 w-72 rounded-full bg-amber-300/20 blur-[100px]"}),(0,a.jsx)("div",{className:"pointer-events-none absolute top-[35%] left-[-8%] h-72 w-72 rounded-full bg-amber-200/25 blur-[140px]"}),(0,a.jsx)("div",{className:"pointer-events-none absolute bottom-[-15%] right-[-8%] h-80 w-80 rounded-full bg-stone-900/10 blur-[160px]"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("header",{className:"px-6 py-6 lg:px-12",children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-6xl items-center justify-between",children:[(0,a.jsxs)(n.default,{href:"/",className:"flex items-center gap-3",children:[(0,a.jsx)(l.default,{src:"/logo.png",alt:"Antique Catalogue",width:44,height:44,className:"rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-display text-lg tracking-tight",children:P("Antique Catalogue")}),(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-stone-500",children:P("Studio Archive")})]})]}),(0,a.jsxs)("nav",{className:"hidden items-center gap-6 text-sm text-stone-600 md:flex",children:[(0,a.jsx)(n.default,{href:"/",className:"hover:text-stone-900",children:P("Home")}),(0,a.jsx)(n.default,{href:"/explore",className:"font-medium text-stone-900",children:P("Explore")}),(0,a.jsx)(n.default,{href:"/dashboard",className:"hover:text-stone-900",children:P("Dashboard")})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:eb?(0,a.jsxs)(f.z,{variant:"secondary",onClick:eZ,disabled:er,children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),er?P("Logging out..."):P("Log out")]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.z,{variant:"ghost",className:"hidden sm:inline-flex",asChild:!0,children:(0,a.jsx)(n.default,{href:"/login",children:P("Log in")})}),(0,a.jsx)(f.z,{asChild:!0,children:(0,a.jsx)(n.default,{href:"/register",children:P("Create account")})})]})})]})}),(0,a.jsx)("section",{children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col gap-6 px-6 pb-10 pt-8 lg:px-12",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsx)(f.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsxs)(n.default,{href:"/explore",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),P("Back to explore")]})}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[eb?(0,a.jsxs)(f.z,{variant:en?"secondary":"outline",size:"sm",onClick:ew,disabled:eo,children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 ".concat(en?"fill-current":"")}),en?P("Starred"):P("Star")]}):null,(0,a.jsxs)(f.z,{variant:"outline",size:"sm",onClick:eN,children:[(0,a.jsx)(u.Z,{className:"h-4 w-4"}),P("Refresh")]})]})]}),ed?(0,a.jsx)("p",{className:"text-sm text-rose-600",children:P(ed)}):null,ep?(0,a.jsx)("p",{className:"text-sm text-rose-600",children:P(ep)}):null,"loading"===T.status?(0,a.jsx)("div",{className:"rounded-3xl border border-dashed border-stone-200 bg-white/80 p-8 text-sm text-stone-500","aria-busy":"true",children:P("Loading collection details...")}):"error"===T.status?(0,a.jsxs)("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/80 p-6",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-rose-700",children:P("We hit a snag loading this collection.")}),(0,a.jsx)("p",{className:"mt-2 text-sm text-rose-600",children:P(null!==(_=T.error)&&void 0!==_?_:"Please try again.")}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[(0,a.jsx)(f.z,{variant:"outline",onClick:eN,children:P("Try again")}),(0,a.jsx)(f.z,{variant:"ghost",asChild:!0,children:(0,a.jsx)(n.default,{href:"/explore",children:P("Back to explore")})})]})]}):(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[2fr_1fr]",children:[(0,a.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/90 p-6 shadow-sm",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.4em] text-amber-700",children:P("Public collection")}),(0,a.jsx)("h1",{className:"font-display mt-4 text-3xl text-stone-900",children:null===(t=T.data)||void 0===t?void 0:t.name}),(null===(s=T.data)||void 0===s?void 0:s.owner_username)?(0,a.jsxs)("p",{className:"mt-2 text-sm text-stone-600",children:[P("By")," ",(0,a.jsxs)(n.default,{href:"/profile/".concat(encodeURIComponent(T.data.owner_username)),className:"font-medium text-amber-700 hover:text-amber-800",children:["@",T.data.owner_username]})]}):null,(0,a.jsx)("p",{className:"mt-3 max-w-2xl text-sm text-stone-600",children:null!==(S=null===(y=T.data)||void 0===y?void 0:y.description)&&void 0!==S?S:P("This collection is ready to explore.")}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap gap-4 text-sm text-stone-600",children:[(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1 text-xs font-medium text-emerald-700",children:[(0,a.jsx)(m.Z,{className:"h-3.5 w-3.5"}),P("Public access")]}),(0,a.jsx)("span",{className:"inline-flex items-center gap-2 rounded-full border border-stone-200 bg-stone-100 px-3 py-1 text-xs font-medium text-stone-600",children:P("{count} items loaded",{count:e_})}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-stone-200 bg-stone-100 px-3 py-1 text-xs font-medium text-stone-600",children:[(0,a.jsx)(d.Z,{className:"h-3.5 w-3.5 text-amber-600"}),P("{count} stars",{count:null!==(Z=null===(N=T.data)||void 0===N?void 0:N.star_count)&&void 0!==Z?Z:0})]})]})]}),(0,a.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/80 p-6 shadow-sm",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:P("Collection timeline")}),(0,a.jsxs)("div",{className:"mt-6 space-y-4 text-sm text-stone-600",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-2xl bg-stone-100 text-stone-700",children:(0,a.jsx)(x.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-stone-900",children:P("Created")}),(0,a.jsx)("p",{className:"mt-1 text-xs text-stone-500",children:I(null===(w=T.data)||void 0===w?void 0:w.created_at)})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-2xl bg-stone-100 text-stone-700",children:(0,a.jsx)(u.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-stone-900",children:P("Last updated")}),(0,a.jsx)("p",{className:"mt-1 text-xs text-stone-500",children:I(null===(k=T.data)||void 0===k?void 0:k.updated_at)})]})]})]})]})]})]})}),(0,a.jsxs)("section",{className:"mx-auto max-w-6xl px-6 pb-16 lg:px-12",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:P("Items")}),(0,a.jsx)("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:P("Collection items")})]}),(0,a.jsxs)("div",{className:"flex w-full flex-col gap-3 lg:flex-row lg:flex-nowrap lg:items-center",children:[(0,a.jsxs)("div",{className:"relative w-full lg:flex-1",children:[(0,a.jsx)(h.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-stone-400"}),(0,a.jsx)("input",{type:"search",placeholder:P("Search items"),className:"h-10 w-full rounded-full border border-stone-200 bg-white/90 pl-9 pr-3 text-sm text-stone-700 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200",value:H,onChange:e=>q(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex w-full flex-wrap items-center gap-3 lg:ml-auto lg:w-auto lg:justify-end",children:[(0,a.jsx)("select",{className:"h-10 rounded-full border border-stone-200 bg-white/90 px-3 text-sm text-stone-700 shadow-sm focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200",value:F,onChange:e=>V(e.target.value),children:W.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[(0,a.jsxs)("label",{className:"flex cursor-pointer items-center gap-2 rounded-full border border-stone-200 bg-white/90 px-3 py-2 text-stone-600 shadow-sm",children:[(0,a.jsx)("input",{type:"checkbox",className:"h-3.5 w-3.5 accent-amber-500",checked:J,onChange:e=>Q(e.target.checked)}),P("With images")]}),(0,a.jsxs)("label",{className:"flex cursor-pointer items-center gap-2 rounded-full border border-amber-200/60 bg-amber-50/70 px-3 py-2 text-amber-700 shadow-sm",children:[(0,a.jsx)("input",{type:"checkbox",className:"h-3.5 w-3.5 accent-amber-500",checked:$,onChange:e=>G(e.target.checked)}),P("Spotlight")]})]})]})]})]}),"loading"===Y.status?(0,a.jsx)("div",{className:"mt-6 rounded-3xl border border-dashed border-stone-200 bg-white/80 p-8 text-sm text-stone-500","aria-busy":"true",children:P("Loading items...")}):"error"===Y.status?(0,a.jsxs)("div",{className:"mt-6 rounded-3xl border border-rose-200 bg-rose-50/80 p-6",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-rose-700",children:P("We hit a snag loading items.")}),(0,a.jsx)("p",{className:"mt-2 text-sm text-rose-600",children:P(null!==(M=Y.error)&&void 0!==M?M:"Please try again.")}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(f.z,{variant:"outline",onClick:eN,children:P("Try again")})})]}):0===Y.data.length?(0,a.jsx)("div",{className:"mt-6 rounded-3xl border border-stone-200 bg-white/80 p-8",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:P("No items yet")}),(0,a.jsx)("h3",{className:"font-display mt-3 text-2xl text-stone-900",children:P("This collection does not have public items.")}),(0,a.jsx)("p",{className:"mt-3 max-w-xl text-sm text-stone-600",children:P("Check back later or browse another public collection.")}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3",children:[(0,a.jsx)(f.z,{variant:"outline",onClick:eN,children:P("Refresh items")}),(0,a.jsx)(f.z,{asChild:!0,children:(0,a.jsx)(n.default,{href:"/explore",children:P("Browse directory")})})]})]}),(0,a.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-amber-100 text-amber-700",children:(0,a.jsx)(m.Z,{className:"h-8 w-8"})})]})}):(0,a.jsxs)("div",{className:"mt-6 space-y-4",children:[0===eS.length?(0,a.jsx)("div",{className:"rounded-3xl border border-stone-200 bg-white/80 p-8",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:P("No matches")}),(0,a.jsx)("h3",{className:"font-display mt-3 text-2xl text-stone-900",children:P("No items match these filters.")}),(0,a.jsx)("p",{className:"mt-3 max-w-xl text-sm text-stone-600",children:P("Try adjusting your filters or clearing them to see more items.")}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3",children:[(0,a.jsx)(f.z,{variant:"outline",onClick:()=>{Q(!1),G(!1)},children:P("Clear filters")}),(0,a.jsx)(f.z,{variant:"ghost",onClick:()=>q(""),children:P("Clear search")})]})]}),(0,a.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-amber-100 text-amber-700",children:(0,a.jsx)(m.Z,{className:"h-8 w-8"})})]})}):(0,a.jsx)("div",{className:"grid gap-4 lg:grid-cols-2",children:eS.map(e=>{var t,s,r,l;let n=Object.entries(null!==(t=e.metadata)&&void 0!==t?t:{}),i=null!==(s=e.primary_image_id)&&void 0!==s?s:null,o=null!==(r=e.image_count)&&void 0!==r?r:0,c=null!==(l=e.star_count)&&void 0!==l?l:0,d=!!em[e.id],u=1===o?P("{count} image",{count:o}):P("{count} images",{count:o}),m=n.slice(0,4).map(e=>{let[t,s]=e;return{label:t,value:U(s)}});return(0,a.jsx)(p.x,{href:"/explore/".concat(O,"/items/").concat(e.id),title:e.name,eyebrow:P("Item"),createdLabel:P("Added {date}",{date:I(e.created_at)}),description:e.notes,descriptionFallback:P("No description provided."),metadata:m,metadataFallback:P("No metadata shared."),metadataOverflowLabel:P("+{count} more fields",{count:Math.max(n.length-2,0)}),imageSrc:i?v.Rf.url(i,"medium"):null,imageAlt:e.name,imageFallbackLabel:P("No image"),starCount:c,imageCount:o,imageCountLabel:u,isHighlighted:e.is_highlight,highlightClassName:"border-amber-400 ring-2 ring-amber-300/70 shadow-[0_0_0_1px_rgba(251,191,36,0.85),0_0_28px_2px_rgba(217,119,6,0.25)]",onToggleStar:eb?()=>{ek(e.id)}:void 0,isStarred:d,starDisabled:!!eh[e.id],openLabel:P("Open")},e.id)})}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[es?(0,a.jsx)("p",{className:"text-xs text-rose-600",children:P(es)}):null,Y.hasMore?(0,a.jsx)(f.z,{variant:"outline",disabled:ee,onClick:eC,children:ee?P("Loading more..."):P("Load more items")}):(0,a.jsx)("p",{className:"text-xs text-stone-500",children:P("You have reached the end of the list.")})]})]})]})]})]})}},2328:function(e,t,s){"use strict";s.d(t,{H:function(){return i},a:function(){return o}});var a=s(7437),r=s(2265),l=s(6264);let n=r.createContext(void 0),i=e=>{let{children:t}=e,[s,i]=r.useState(null),[o,c]=r.useState("loading"),[d,u]=r.useState(null),m=r.useCallback(async()=>{c("loading"),u(null);try{let e=await l.iJ.me();i(e),c("authenticated")}catch(e){i(null),(0,l.k0)(e)&&(401===e.status||403===e.status)?c("unauthenticated"):(c("unauthenticated"),u((0,l.k0)(e)?e.detail:"Unable to reach server"))}},[]);r.useEffect(()=>{m()},[m]);let x=r.useCallback(async e=>{u(null),await l.iJ.login(e),await m()},[m]),h=r.useCallback(async()=>{u(null);try{await l.iJ.logout()}finally{i(null),c("unauthenticated")}},[]),f=r.useCallback(async()=>{await m()},[m]),p=r.useMemo(()=>({user:s,status:o,error:d,isAuthenticated:"authenticated"===o,login:x,logout:h,refresh:f}),[s,o,d,x,h,f]);return(0,a.jsx)(n.Provider,{value:p,children:t})},o=()=>{let e=r.useContext(n);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},1918:function(e,t,s){"use strict";s.d(t,{x:function(){return m}});var a=s(7437),r=s(7138),l=s(6648),n=s(8604),i=s(9338);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,s(1066).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var c=s(4069),d=s(7440);let u=(e,t)=>e.length<=t?e:"".concat(e.slice(0,t),"...");function m(e){let{href:t,title:s,eyebrow:m,createdLabel:x,description:h,descriptionFallback:f,metadata:p=[],metadataFallback:g,metadataOverflowLabel:b,imageSrc:v,imageAlt:j,imageFallbackLabel:y,starCount:N,imageCount:w,imageCountLabel:k,isHighlighted:C=!1,highlightClassName:_,onToggleStar:S,isStarred:Z=!1,starDisabled:M=!1,openLabel:L,className:z}=e,A=u(s,70),R=(null==h?void 0:h.trim())?u(h,180):f,P=p.slice(0,2),E=p.length>P.length,O=(0,c.N)(null!=v?v:null);return(0,a.jsxs)("article",{className:(0,d.cn)("flex h-full min-h-[31rem] flex-col rounded-3xl border border-stone-200 bg-white/90 p-5 shadow-sm",C?_:null,z),children:[(0,a.jsxs)(r.default,{href:t,className:"flex flex-1 flex-col",children:[(0,a.jsx)("div",{className:"h-44 overflow-hidden rounded-2xl border border-stone-100 bg-stone-50",children:O?(0,a.jsx)(l.default,{src:O,alt:null!=j?j:s,width:640,height:352,className:"block h-full w-full object-cover",unoptimized:!0}):(0,a.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-2 bg-gradient-to-br from-stone-100 via-stone-50 to-amber-100/50 text-stone-500",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 text-amber-700"}),(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.2em]",children:y})]})}),(0,a.jsx)("p",{className:"mt-4 text-[10px] font-medium uppercase tracking-[0.3em] text-stone-400",children:m}),(0,a.jsx)("h3",{className:"mt-2 min-h-[3.25rem] text-lg font-semibold leading-snug text-stone-900",children:A}),(0,a.jsx)("p",{className:"mt-1 min-h-[1.25rem] text-xs text-stone-500",children:null!=x?x:"\xa0"}),(0,a.jsx)("p",{className:"mt-3 min-h-[3.5rem] text-sm text-stone-600",children:R}),(0,a.jsx)("div",{className:"mt-4 h-24 rounded-2xl border border-stone-100 bg-stone-50 px-3 py-3 text-xs text-stone-600",children:0===P.length?(0,a.jsx)("p",{className:"text-stone-500",children:g}):(0,a.jsxs)("div",{className:"space-y-2",children:[P.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsx)("span",{className:"font-medium text-stone-700",children:u(e.label,24)}),(0,a.jsx)("span",{className:"text-right text-stone-500",children:u(e.value,28)})]},"".concat(e.label,"-").concat(e.value))),E?(0,a.jsx)("p",{className:"text-[11px] text-stone-400",children:null!=b?b:"+".concat(p.length-P.length," more")}):null]})})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:["number"==typeof N?S?(0,a.jsxs)("button",{type:"button",className:(0,d.cn)("inline-flex items-center gap-1 rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-xs font-medium text-stone-600 transition","hover:border-amber-300 hover:text-amber-700",M?"cursor-not-allowed opacity-60":null),onClick:S,disabled:M,children:[(0,a.jsx)(i.Z,{className:(0,d.cn)("h-3.5 w-3.5",Z?"fill-current text-amber-600":"text-amber-600")}),N]}):(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-xs font-medium text-stone-600",children:[(0,a.jsx)(i.Z,{className:"h-3.5 w-3.5 text-amber-600"}),N]}):null,"number"==typeof w?(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-xs font-medium text-stone-600",children:[(0,a.jsx)(n.Z,{className:"h-3.5 w-3.5 text-amber-600"}),"string"==typeof k&&k.trim()?k:w]}):null]}),(0,a.jsxs)(r.default,{href:t,className:"inline-flex items-center gap-1 text-xs font-medium uppercase tracking-[0.2em] text-stone-500 transition hover:text-stone-900",children:[L,(0,a.jsx)(o,{className:"h-3.5 w-3.5"})]})]})]})}},495:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var a=s(7437),r=s(2265),l=s(2974),n=s(3027),i=s(7440);let o=(0,n.j)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:c=!1,...d}=e,u=c?l.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:r,size:n,className:s})),ref:t,...d})});c.displayName="Button"},4069:function(e,t,s){"use strict";s.d(t,{N:function(){return r}});var a=s(2265);function r(e){let[t,s]=a.useState(null);return a.useEffect(()=>{if(!e){s(e=>(e&&URL.revokeObjectURL(e),null));return}let t=null,a=new AbortController;return(async()=>{try{let r=window.localStorage.getItem("antique_access_token"),l={};r&&(l.Authorization="Bearer ".concat(r));let n=await fetch(e,{headers:l,cache:"no-store",signal:a.signal});if(!n.ok){s(null);return}let i=await n.blob();t=URL.createObjectURL(i),s(e=>(e&&URL.revokeObjectURL(e),t))}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)return;s(null)}})(),()=>{a.abort(),t&&URL.revokeObjectURL(t)}},[e]),t}},7440:function(e,t,s){"use strict";s.d(t,{cn:function(){return l}});var a=s(4839),r=s(6164);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},1066:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let s=(0,a.forwardRef)((s,n)=>{let{color:i="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:m,...x}=s;return(0,a.createElement)("svg",{ref:n,...r,width:o,height:o,stroke:i,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(l(e)),u].join(" "),...x},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s}},5137:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7385:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},874:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},8604:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},9896:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},4378:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},4817:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9338:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},6463:function(e,t,s){"use strict";var a=s(1169);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[165,138,648,846,971,23,744],function(){return e(e.s=4626)}),_N_E=e.O()}]);