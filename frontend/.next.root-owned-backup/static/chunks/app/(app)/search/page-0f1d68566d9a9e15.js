(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[664],{6528:function(e,t,r){Promise.resolve().then(r.bind(r,2912))},2912:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var s=r(7437),n=r(2265),a=r(6463),l=r(4378),i=r(4817),o=r(1918),c=r(1295),d=r(495),u=r(6264);let m=(e,t)=>{if(!e)return"-";let r=new Date(e);return Number.isNaN(r.getTime())?e:new Intl.DateTimeFormat(t,{month:"short",day:"numeric",year:"numeric"}).format(r)};function x(){var e,t;let r=(0,a.useRouter)(),x=(0,a.useSearchParams)(),{t:h,locale:f}=(0,c.Q)(),p=null!==(e=x.get("query"))&&void 0!==e?e:"",[b,g]=n.useState(p),[v,j]=n.useState({status:"idle",data:[]}),y=n.useCallback(async e=>{j({status:"loading",data:[]});try{let t=await u.Ue.items(e);j({status:"ready",data:t})}catch(e){j({status:"error",data:[],error:(0,u.k0)(e)?e.detail:"We couldn't load search results."})}},[]);return n.useEffect(()=>{g(p);let e=p.trim();if(!e){j({status:"idle",data:[]});return}y(e)},[p,y]),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("header",{className:"rounded-3xl border border-stone-200 bg-white/80 p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs uppercase tracking-[0.4em] text-amber-700",children:h("Search")}),(0,s.jsx)("h1",{className:"font-display mt-3 text-3xl text-stone-900",children:h("Search your items.")}),(0,s.jsx)("p",{className:"mt-2 text-sm text-stone-600",children:h("Find items across every collection by name or notes.")})]}),(0,s.jsxs)(d.z,{variant:"outline",onClick:()=>{let e=p.trim();e&&y(e)},children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),h("Refresh")]})]}),(0,s.jsxs)("form",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:items-center",onSubmit:e=>{e.preventDefault();let t=b.trim();if(!t){j({status:"idle",data:[]});return}r.push("/search?query=".concat(encodeURIComponent(t)))},children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(i.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-stone-400"}),(0,s.jsx)("input",{type:"search",placeholder:h("Search items by name or notes"),className:"h-11 w-full rounded-full border border-stone-200 bg-white pl-9 pr-3 text-sm text-stone-700 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200",value:b,onChange:e=>g(e.target.value)})]}),(0,s.jsx)(d.z,{type:"submit",className:"sm:w-auto",children:h("Search")})]})]}),"idle"===v.status?(0,s.jsx)("div",{className:"rounded-3xl border border-dashed border-stone-200 bg-white/70 p-8 text-sm text-stone-500",children:h("Enter a search term to see matching items.")}):"loading"===v.status?(0,s.jsx)("div",{className:"rounded-3xl border border-dashed border-stone-200 bg-white/70 p-8 text-sm text-stone-500","aria-busy":"true",children:h("Searching items...")}):"error"===v.status?(0,s.jsx)("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/70 p-6 text-sm text-rose-700",children:h(null!==(t=v.error)&&void 0!==t?t:"We couldn't load search results.")}):0===v.data.length?(0,s.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/70 p-8",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-stone-700",children:h("No items matched your search.")}),(0,s.jsx)("p",{className:"mt-2 text-sm text-stone-500",children:h("Try another term or check spelling.")})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:h("Results")}),(0,s.jsx)("span",{className:"text-xs text-stone-400",children:h("{count} items found",{count:v.data.length})})]}),(0,s.jsx)("div",{className:"grid gap-4 lg:grid-cols-2",children:v.data.map(e=>{var t,r;let n=null!==(t=e.primary_image_id)&&void 0!==t?t:null,a=null!==(r=e.image_count)&&void 0!==r?r:0,l=1===a?h("{count} image",{count:a}):h("{count} images",{count:a});return(0,s.jsx)(o.x,{href:"/collections/".concat(e.collection_id,"/items/").concat(e.id),title:e.name,eyebrow:e.collection_name,createdLabel:h("Added {date}",{date:m(e.created_at,f)}),description:e.notes,descriptionFallback:h("No description provided."),metadataFallback:h("Open item details for full metadata."),imageSrc:n?u.Rf.url(n,"medium"):null,imageAlt:e.name,imageFallbackLabel:h("No image"),imageCount:a,imageCountLabel:l,isHighlighted:e.is_highlight,highlightClassName:"border-amber-400 ring-2 ring-amber-300/70 shadow-[0_0_0_1px_rgba(251,191,36,0.85),0_0_28px_2px_rgba(217,119,6,0.25)]",openLabel:h("Open")},"".concat(e.collection_id,"-").concat(e.id))})})]})]})}function h(){let{t:e}=(0,c.Q)();return(0,s.jsx)("div",{className:"flex min-h-[60vh] items-center justify-center text-sm text-stone-500",children:e("Loading...")})}function f(){return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(h,{}),children:(0,s.jsx)(x,{})})}},1918:function(e,t,r){"use strict";r.d(t,{x:function(){return m}});var s=r(7437),n=r(7138),a=r(6648),l=r(8604),i=r(9338);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r(1066).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var c=r(4069),d=r(7440);let u=(e,t)=>e.length<=t?e:"".concat(e.slice(0,t),"...");function m(e){let{href:t,title:r,eyebrow:m,createdLabel:x,description:h,descriptionFallback:f,metadata:p=[],metadataFallback:b,metadataOverflowLabel:g,imageSrc:v,imageAlt:j,imageFallbackLabel:y,starCount:N,imageCount:w,imageCountLabel:k,isHighlighted:_=!1,highlightClassName:R,onToggleStar:L,isStarred:S=!1,starDisabled:Z=!1,openLabel:C,className:P}=e,U=u(r,70),A=(null==h?void 0:h.trim())?u(h,180):f,E=p.slice(0,2),z=p.length>E.length,O=(0,c.N)(null!=v?v:null);return(0,s.jsxs)("article",{className:(0,d.cn)("flex h-full min-h-[31rem] flex-col rounded-3xl border border-stone-200 bg-white/90 p-5 shadow-sm",_?R:null,P),children:[(0,s.jsxs)(n.default,{href:t,className:"flex flex-1 flex-col",children:[(0,s.jsx)("div",{className:"h-44 overflow-hidden rounded-2xl border border-stone-100 bg-stone-50",children:O?(0,s.jsx)(a.default,{src:O,alt:null!=j?j:r,width:640,height:352,className:"block h-full w-full object-cover",unoptimized:!0}):(0,s.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-2 bg-gradient-to-br from-stone-100 via-stone-50 to-amber-100/50 text-stone-500",children:[(0,s.jsx)(l.Z,{className:"h-5 w-5 text-amber-700"}),(0,s.jsx)("p",{className:"text-xs uppercase tracking-[0.2em]",children:y})]})}),(0,s.jsx)("p",{className:"mt-4 text-[10px] font-medium uppercase tracking-[0.3em] text-stone-400",children:m}),(0,s.jsx)("h3",{className:"mt-2 min-h-[3.25rem] text-lg font-semibold leading-snug text-stone-900",children:U}),(0,s.jsx)("p",{className:"mt-1 min-h-[1.25rem] text-xs text-stone-500",children:null!=x?x:"\xa0"}),(0,s.jsx)("p",{className:"mt-3 min-h-[3.5rem] text-sm text-stone-600",children:A}),(0,s.jsx)("div",{className:"mt-4 h-24 rounded-2xl border border-stone-100 bg-stone-50 px-3 py-3 text-xs text-stone-600",children:0===E.length?(0,s.jsx)("p",{className:"text-stone-500",children:b}):(0,s.jsxs)("div",{className:"space-y-2",children:[E.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,s.jsx)("span",{className:"font-medium text-stone-700",children:u(e.label,24)}),(0,s.jsx)("span",{className:"text-right text-stone-500",children:u(e.value,28)})]},"".concat(e.label,"-").concat(e.value))),z?(0,s.jsx)("p",{className:"text-[11px] text-stone-400",children:null!=g?g:"+".concat(p.length-E.length," more")}):null]})})]}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-3",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:["number"==typeof N?L?(0,s.jsxs)("button",{type:"button",className:(0,d.cn)("inline-flex items-center gap-1 rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-xs font-medium text-stone-600 transition","hover:border-amber-300 hover:text-amber-700",Z?"cursor-not-allowed opacity-60":null),onClick:L,disabled:Z,children:[(0,s.jsx)(i.Z,{className:(0,d.cn)("h-3.5 w-3.5",S?"fill-current text-amber-600":"text-amber-600")}),N]}):(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-xs font-medium text-stone-600",children:[(0,s.jsx)(i.Z,{className:"h-3.5 w-3.5 text-amber-600"}),N]}):null,"number"==typeof w?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-xs font-medium text-stone-600",children:[(0,s.jsx)(l.Z,{className:"h-3.5 w-3.5 text-amber-600"}),"string"==typeof k&&k.trim()?k:w]}):null]}),(0,s.jsxs)(n.default,{href:t,className:"inline-flex items-center gap-1 text-xs font-medium uppercase tracking-[0.2em] text-stone-500 transition hover:text-stone-900",children:[C,(0,s.jsx)(o,{className:"h-3.5 w-3.5"})]})]})]})}},495:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(7437),n=r(2265),a=r(2974),l=r(3027),i=r(7440);let o=(0,l.j)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:n,size:l,className:r})),ref:t,...d})});c.displayName="Button"},4069:function(e,t,r){"use strict";r.d(t,{N:function(){return n}});var s=r(2265);function n(e){let[t,r]=s.useState(null);return s.useEffect(()=>{if(!e){r(e=>(e&&URL.revokeObjectURL(e),null));return}let t=null,s=new AbortController;return(async()=>{try{let n=window.localStorage.getItem("antique_access_token"),a={};n&&(a.Authorization="Bearer ".concat(n));let l=await fetch(e,{headers:a,cache:"no-store",signal:s.signal});if(!l.ok){r(null);return}let i=await l.blob();t=URL.createObjectURL(i),r(e=>(e&&URL.revokeObjectURL(e),t))}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)return;r(null)}})(),()=>{s.abort(),t&&URL.revokeObjectURL(t)}},[e]),t}},7440:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(4839),n=r(6164);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},1066:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{color:i="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:m,...x}=r;return(0,s.createElement)("svg",{ref:l,...n,width:o,height:o,stroke:i,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(a(e)),u].join(" "),...x},[...t.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},8604:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(1066).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},4378:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(1066).Z)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},4817:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(1066).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9338:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(1066).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[165,138,648,846,971,23,744],function(){return e(e.s=6528)}),_N_E=e.O()}]);