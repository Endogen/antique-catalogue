(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{6028:function(e,t,a){Promise.resolve().then(a.bind(a,3425))},3425:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var r=a(7437),s=a(2265),n=a(7138),i=a(8496),o=a(7385),l=a(9338),c=a(1295),d=a(495),u=a(6264);let m=(e,t)=>{if(!e)return"-";let a=new Date(e);return Number.isNaN(a.getTime())?e:new Intl.DateTimeFormat(t,{month:"short",day:"numeric",year:"numeric"}).format(a)},h=(e,t)=>{if(!e)return"-";let a=new Date(e);return Number.isNaN(a.getTime())?e:new Intl.DateTimeFormat(t,{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(a)},x=e=>e.replace(/[._-]+/g," ");function p(){var e,t;let{t:a,locale:p}=(0,c.Q)(),[f,g]=s.useState({status:"loading",data:[]}),[y,v]=s.useState({status:"loading",data:[]}),b=s.useCallback(async()=>{g(e=>({...e,status:"loading",error:void 0}));try{let e=await u.Wo.list();g({status:"ready",data:e})}catch(e){g(t=>({status:"error",data:t.data,error:(0,u.k0)(e)?e.detail:"We couldn't load your collections."}))}},[]),j=s.useCallback(async()=>{v(e=>({...e,status:"loading",error:void 0}));try{let e=await u.ir.list({limit:5});v({status:"ready",data:e})}catch(e){v(t=>({status:"error",data:t.data,error:(0,u.k0)(e)?e.detail:"Activity unavailable right now."}))}},[]);s.useEffect(()=>{b(),j()},[j,b]);let N=f.data.length,w="ready"===f.status&&N>0,k=s.useMemo(()=>[...f.data].sort((e,t)=>{var a,r,s,n;let i=new Date(null!==(r=null!==(a=e.updated_at)&&void 0!==a?a:e.created_at)&&void 0!==r?r:0).getTime();return new Date(null!==(n=null!==(s=t.updated_at)&&void 0!==s?s:t.created_at)&&void 0!==n?n:0).getTime()-i}).slice(0,2),[f.data]);return(0,r.jsx)("div",{className:"space-y-8",children:(0,r.jsxs)("section",{className:"grid gap-6 lg:grid-cols-[2fr_1fr] lg:items-start",children:[(0,r.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/80 p-6 shadow-sm",children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:a("Your collections")}),(0,r.jsx)("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:w?a("Continue your catalogue."):a("Start shaping your first collection.")}),(0,r.jsx)("p",{className:"mt-3 text-sm text-stone-600",children:w?a("Jump back into a collection to refine metadata, add items, and keep your archive up to date."):a("Define the fields that matter most for your collection. Once you are ready, share access with collaborators and start capturing items.")}),"loading"===f.status?(0,r.jsx)("div",{className:"mt-6 rounded-2xl border border-dashed border-stone-200 bg-white/60 p-4 text-sm text-stone-500",children:a("Loading your collections...")}):"error"===f.status?(0,r.jsx)("div",{className:"mt-6 rounded-2xl border border-rose-200 bg-rose-50/70 p-4 text-sm text-rose-600",children:a(null!==(e=f.error)&&void 0!==e?e:"We couldn't load your collections.")}):0===f.data.length?(0,r.jsx)("div",{className:"mt-6 rounded-2xl border border-stone-200 bg-stone-50/80 p-4 text-sm text-stone-600",children:a("No collections yet. Create one to start cataloguing.")}):(0,r.jsx)("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:k.map(e=>{var t,s;return(0,r.jsxs)("div",{className:"rounded-2xl border border-stone-200 bg-white/90 p-4 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-stone-500",children:[(0,r.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,r.jsx)(i.Z,{className:"h-3.5 w-3.5 text-amber-600"}),e.is_public?a("Public"):a("Private")]}),(0,r.jsx)("span",{children:a("Updated {date}",{date:m(e.updated_at,p)})})]}),(0,r.jsx)("h3",{className:"mt-3 text-base font-semibold text-stone-900",children:e.name}),(0,r.jsx)("p",{className:"mt-1 text-xs text-stone-600",children:null!==(t=e.description)&&void 0!==t?t:a("Add a description to capture the story behind this collection.")}),(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-between text-xs text-stone-500",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,r.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"h-3.5 w-3.5 text-amber-600"}),a("Created {date}",{date:m(e.created_at,p)})]}),(0,r.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,r.jsx)(l.Z,{className:"h-3.5 w-3.5 text-amber-600"}),a("{count} stars",{count:null!==(s=e.star_count)&&void 0!==s?s:0})]})]}),(0,r.jsx)(d.z,{size:"sm",variant:"secondary",asChild:!0,children:(0,r.jsx)(n.default,{href:"/collections/".concat(e.id),children:a("Open")})})]})]},e.id)})}),(0,r.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3",children:[(0,r.jsx)(d.z,{variant:"secondary",asChild:!0,children:(0,r.jsx)(n.default,{href:"/collections",children:a("View all collections")})}),(0,r.jsx)(d.z,{variant:"ghost",asChild:!0,children:(0,r.jsx)(n.default,{href:"/collections/new",children:a("New collection")})})]})]}),(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/80 p-6 shadow-sm",children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:a("Recent activity")}),(0,r.jsx)("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:a("Latest updates from your archive.")}),"loading"===y.status&&0===y.data.length?(0,r.jsx)("p",{className:"mt-4 text-sm text-stone-500",children:a("Loading activity...")}):"error"===y.status&&0===y.data.length?(0,r.jsx)("p",{className:"mt-4 text-sm text-rose-600",children:a(null!==(t=y.error)&&void 0!==t?t:"Activity unavailable right now.")}):0===y.data.length?(0,r.jsx)("p",{className:"mt-4 text-sm text-stone-600",children:a("No activity yet. Create a collection to start your timeline.")}):(0,r.jsx)("ul",{className:"mt-4 space-y-3",children:y.data.map(e=>{var t;let s="item.created"===e.action_type,i=null!==(t=e.target_path)&&void 0!==t?t:"collection"===e.resource_type&&e.resource_id?"/collections/".concat(e.resource_id):null;return(0,r.jsxs)("li",{className:"rounded-2xl border border-stone-200 bg-white p-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-amber-700",children:x(e.action_type)}),(0,r.jsx)("span",{className:"text-xs text-stone-500",children:h(e.created_at,p)})]}),(0,r.jsxs)("div",{className:"mt-2 flex items-center justify-between gap-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-stone-900",children:e.summary}),i?(0,r.jsx)(d.z,{size:"sm",variant:"ghost",asChild:!0,children:(0,r.jsx)(n.default,{href:i,children:s?a("View"):a("Open")})}):null]})]},e.id)})})]})})]})})}},495:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var r=a(7437),s=a(2265),n=a(2974),i=a(3027),o=a(7440);let l=(0,i.j)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,r.jsx)(u,{className:(0,o.cn)(l({variant:s,size:i,className:a})),ref:t,...d})});c.displayName="Button"},7440:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(4839),s=a(6164);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}},1066:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var r=a(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let a=(0,r.forwardRef)((a,i)=>{let{color:o="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:m,...h}=a;return(0,r.createElement)("svg",{ref:i,...s,width:l,height:l,stroke:o,strokeWidth:d?24*Number(c)/Number(l):c,className:["lucide","lucide-".concat(n(e)),u].join(" "),...h},[...t.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(m)?m:[m]])});return a.displayName="".concat(e),a}},7385:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(1066).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},8496:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(1066).Z)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},9338:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(1066).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])}},function(e){e.O(0,[165,138,846,971,23,744],function(){return e(e.s=6028)}),_N_E=e.O()}]);