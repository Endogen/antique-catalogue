(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{9805:function(e,t,s){Promise.resolve().then(s.bind(s,9240))},9240:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var a=s(7437),l=s(2265),r=s(7138),n=s(6463),i=s(5137),o=s(9338),c=s(2513),d=s(1066);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,d.Z)("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);var m=s(4378),x=s(7385),h=s(4817);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,d.Z)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);var p=s(6717),g=s(4697),b=s(1918),v=s(1295),y=s(495),j=s(6264);let N=e=>[{label:e("Newest first"),value:"-created_at"},{label:e("Oldest first"),value:"created_at"},{label:e("Name A to Z"),value:"name"},{label:e("Name Z to A"),value:"-name"}],w=e=>({text:e("Text"),number:e("Number"),date:e("Date"),timestamp:e("Timestamp"),checkbox:e("Checkbox"),select:e("Select")}),k=e=>[...e].sort((e,t)=>e.position-t.position||e.id-t.id),C=e=>{let t=new Map;return e.forEach(e=>{let s=e.trim();if(!s)return;let a=s.toLowerCase();t.has(a)||t.set(a,s)}),Array.from(t.values())},_=e=>e&&Array.isArray(e.options)?C(e.options.filter(e=>"string"==typeof e)):[];function M(){var e,t,s,d,C,M,S,Z,z,L,A,R,E;let P=(0,n.useParams)(),D=(0,n.useSearchParams)(),{t:W,locale:O}=(0,v.Q)(),U=Array.isArray(null==P?void 0:P.id)?P.id[0]:null==P?void 0:P.id,I=l.useMemo(()=>N(W),[W]),T=l.useMemo(()=>w(W),[W]),[F,q]=l.useState({status:"loading"}),[H,B]=l.useState({status:"loading",data:[]}),[Y,V]=l.useState({status:"loading",data:[],hasMore:!1}),[$,Q]=l.useState(""),[K,X]=l.useState("-created_at"),[G,J]=l.useState([]),[ee,et]=l.useState(""),[es,ea]=l.useState(""),[el,er]=l.useState(null),[en,ei]=l.useState(0),[eo,ec]=l.useState(!1),[ed,eu]=l.useState(null),[em,ex]=l.useState(!1),[eh,ef]=l.useState(!1),[ep,eg]=l.useState(null),[eb,ev]=l.useState("true"===D.get("include_drafts")),[ey,ej]=l.useState(null),eN=l.useRef(0),ew=l.useCallback(e=>{if(!e)return"-";let t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat(O,{month:"short",day:"numeric",year:"numeric"}).format(t)},[O]),ek=l.useCallback(e=>null==e?"-":"string"==typeof e?e:"number"==typeof e?new Intl.NumberFormat(O).format(e):"boolean"==typeof e?e?W("Yes"):W("No"):Array.isArray(e)?e.join(", "):"object"==typeof e?W("Details"):String(e),[O,W]),eC=l.useMemo(()=>k(H.data),[H.data]),e_=l.useMemo(()=>[...I,...eC.flatMap(e=>[{label:W("Metadata: {field} (asc)",{field:e.name}),value:"metadata:".concat(e.name)},{label:W("Metadata: {field} (desc)",{field:e.name}),value:"-metadata:".concat(e.name)}])],[I,eC,W]),eM=l.useMemo(()=>eC.find(e=>String(e.id)===String(ee)),[eC,ee]),eS=l.useMemo(()=>eM&&"select"===eM.field_type?_(eM.options):[],[eM]);l.useEffect(()=>{if(!eM){ea("");return}if("checkbox"===eM.field_type){ea("true");return}if("select"===eM.field_type){var e;ea(null!==(e=eS[0])&&void 0!==e?e:"");return}ea("")},[eM,eS]),l.useEffect(()=>{er(null)},[ee,es]);let eZ=l.useCallback(async()=>{if(!U){q({status:"error",error:"Collection ID was not provided."});return}q(e=>({...e,status:"loading",error:void 0}));try{let e=await j.Wo.get(U);q({status:"ready",data:e})}catch(e){q({status:"error",error:(0,j.k0)(e)?e.detail:"We couldn't load this collection."})}},[U]),ez=l.useCallback(async()=>{if(!U){B({status:"error",data:[],error:"Collection ID was not provided."});return}B(e=>({...e,status:"loading",error:void 0}));try{let e=await j.cK.list(U);B({status:"ready",data:e})}catch(e){B({status:"error",data:[],error:(0,j.k0)(e)?e.detail:"We couldn't load the schema fields."})}},[U]);l.useEffect(()=>{eZ(),ez()},[eZ,ez]);let eL=l.useCallback(async()=>{if(U)try{let e=await j.Y4.collectionStatus(U);ex(e.starred),q(t=>"ready"===t.status&&t.data?{...t,data:{...t.data,star_count:e.star_count}}:t)}catch(e){(0,j.k0)(e)&&404===e.status||eg((0,j.k0)(e)?e.detail:"We couldn't update star status.")}},[U]);l.useEffect(()=>{eL()},[eL]),l.useEffect(()=>{U&&(async()=>{try{let e=await j.$Q.session(U);ej(e.draft_count)}catch(e){}})()},[U,en]);let eA=l.useMemo(()=>G.map(e=>"".concat(e.fieldName,"=").concat(e.value)),[G]);l.useEffect(()=>{if(!U){V({status:"error",data:[],error:"Collection ID was not provided.",hasMore:!1});return}let e=!0,t=setTimeout(()=>{(async()=>{V({status:"loading",data:[],error:void 0,hasMore:!1}),eu(null);try{let t=await j.zg.list(U,{search:$.trim()||void 0,sort:K,offset:0,limit:12,filters:eA,includeDrafts:eb});if(!e)return;V({status:"ready",data:t,hasMore:12===t.length})}catch(t){if(!e)return;V({status:"error",data:[],error:(0,j.k0)(t)?t.detail:"We couldn't load items in this collection.",hasMore:!1})}})()},300);return()=>{e=!1,clearTimeout(t)}},[U,$,K,eA,en,eb]);let eR=()=>{eZ(),ez(),eL(),eg(null),ei(e=>e+1)},eE=async()=>{if(U&&!eh){eg(null),ef(!0);try{let e=em?await j.Y4.unstarCollection(U):await j.Y4.starCollection(U);ex(e.starred),q(t=>"ready"===t.status&&t.data?{...t,data:{...t.data,star_count:e.star_count}}:t)}catch(e){eg((0,j.k0)(e)?e.detail:"We couldn't update stars.")}finally{ef(!1)}}},eP=e=>{J(t=>t.filter(t=>t.id!==e))},eD=async()=>{if(U&&"ready"===Y.status&&Y.hasMore&&!eo){ec(!0),eu(null);try{let e=await j.zg.list(U,{search:$.trim()||void 0,sort:K,offset:Y.data.length,limit:12,filters:eA,includeDrafts:eb});V(t=>({...t,data:[...t.data,...e],hasMore:12===e.length}))}catch(e){eu((0,j.k0)(e)?e.detail:"We couldn't load more items.")}finally{ec(!1)}}},eW=Y.data.length;return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("header",{className:"flex flex-wrap items-start justify-between gap-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(y.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsxs)(r.default,{href:"/collections",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),W("Back to collections")]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.4em] text-amber-700",children:W("Collection overview")}),(0,a.jsx)("h1",{className:"font-display mt-4 text-3xl text-stone-900",children:"ready"===F.status&&F.data?F.data.name:W("Review collection items")}),(0,a.jsx)("p",{className:"mt-3 max-w-2xl text-sm text-stone-600",children:W("Search, filter, and organize the items in this collection.")})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsxs)(y.z,{variant:em?"secondary":"outline",onClick:eE,disabled:eh,children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 ".concat(em?"fill-current":"")}),em?W("Starred"):W("Star")]}),(0,a.jsx)(y.z,{asChild:!0,children:(0,a.jsxs)(r.default,{href:"/collections/".concat(U,"/items/new"),children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),W("Add item")]})}),(null!=ey?ey:0)>0?(0,a.jsxs)(y.z,{variant:eb?"secondary":"outline",onClick:()=>ev(e=>!e),children:[(0,a.jsx)(u,{className:"h-4 w-4"}),eb?W("Hide drafts"):W("{count} drafts",{count:null!=ey?ey:0})]}):null,(0,a.jsxs)(y.z,{variant:"outline",onClick:eR,children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"}),W("Refresh")]})]})]}),"loading"===F.status?(0,a.jsx)("div",{className:"rounded-3xl border border-dashed border-stone-200 bg-white/80 p-8 text-sm text-stone-500","aria-busy":"true",children:W("Loading collection details...")}):"error"===F.status?(0,a.jsxs)("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/80 p-6",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-rose-700",children:W("We hit a snag loading this collection.")}),(0,a.jsx)("p",{className:"mt-2 text-sm text-rose-600",children:W(null!==(Z=F.error)&&void 0!==Z?Z:"Please try again.")}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[(0,a.jsx)(y.z,{variant:"outline",onClick:eR,children:W("Try again")}),(0,a.jsx)(y.z,{variant:"ghost",asChild:!0,children:(0,a.jsx)(r.default,{href:"/collections",children:W("Back to collections")})})]})]}):(0,a.jsxs)("section",{className:"grid gap-6 lg:grid-cols-[2fr_1fr]",children:[(0,a.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/90 p-6 shadow-sm",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:W("Collection details")}),(0,a.jsx)("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:null===(e=F.data)||void 0===e?void 0:e.name}),(0,a.jsx)("p",{className:"mt-3 text-sm text-stone-600",children:null!==(z=null===(t=F.data)||void 0===t?void 0:t.description)&&void 0!==z?z:W("Add a description to capture the story behind this collection.")}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3 text-xs",children:[(0,a.jsx)("span",{className:"inline-flex items-center gap-2 rounded-full border px-3 py-1 font-medium ".concat((null===(s=F.data)||void 0===s?void 0:s.is_public)?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-amber-200 bg-amber-50 text-amber-700"),children:(null===(d=F.data)||void 0===d?void 0:d.is_public)?W("Public"):W("Private")}),(0,a.jsx)("span",{className:"inline-flex items-center gap-2 rounded-full border border-stone-200 bg-stone-100 px-3 py-1 text-stone-600",children:W("{count} items loaded",{count:eW})}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-stone-200 bg-stone-100 px-3 py-1 text-stone-600",children:[(0,a.jsx)(o.Z,{className:"h-3.5 w-3.5 text-amber-600"}),W("{count} stars",{count:null!==(L=null===(C=F.data)||void 0===C?void 0:C.star_count)&&void 0!==L?L:0})]})]}),ep?(0,a.jsx)("p",{className:"mt-4 text-sm text-rose-600",children:W(ep)}):null,(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap gap-4 text-sm text-stone-600",children:[(0,a.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 text-amber-600"}),W("Created {date}",{date:ew(null===(M=F.data)||void 0===M?void 0:M.created_at)})]}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 text-amber-600"}),W("Updated {date}",{date:ew(null===(S=F.data)||void 0===S?void 0:S.updated_at)})]})]})]}),(0,a.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/80 p-6 shadow-sm",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:W("Schema snapshot")}),"loading"===H.status?(0,a.jsx)("p",{className:"mt-4 text-sm text-stone-500",children:W("Loading schema fields...")}):"error"===H.status?(0,a.jsx)("p",{className:"mt-4 text-sm text-rose-600",children:W(null!==(A=H.error)&&void 0!==A?A:"We couldn't load schema fields.")}):0===H.data.length?(0,a.jsxs)("div",{className:"mt-4 space-y-3 text-sm text-stone-600",children:[(0,a.jsx)("p",{children:W("No schema fields yet.")}),(0,a.jsx)(y.z,{size:"sm",variant:"secondary",asChild:!0,children:(0,a.jsx)(r.default,{href:"/collections/".concat(U,"/settings"),children:W("Define schema")})})]}):(0,a.jsxs)("div",{className:"mt-4 space-y-3 text-sm text-stone-600",children:[(0,a.jsx)("p",{children:W("{count} fields defined.",{count:H.data.length})}),(0,a.jsxs)("div",{className:"space-y-2",children:[eC.slice(0,4).map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsx)("span",{className:"font-medium text-stone-900",children:e.name}),(0,a.jsx)("span",{className:"text-xs uppercase tracking-[0.2em] text-stone-400",children:null!==(t=T[e.field_type])&&void 0!==t?t:e.field_type})]},e.id)}),eC.length>4?(0,a.jsx)("p",{className:"text-xs text-stone-400",children:W("+{count} more fields",{count:eC.length-4})}):null]}),(0,a.jsx)(y.z,{size:"sm",variant:"ghost",asChild:!0,children:(0,a.jsx)(r.default,{href:"/collections/".concat(U,"/settings"),children:W("Edit schema")})})]})]})]}),(0,a.jsxs)("section",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:W("Items")}),(0,a.jsx)("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:W("Collection items")})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-stone-400"}),(0,a.jsx)("input",{type:"search",placeholder:W("Search items"),className:"h-10 w-56 rounded-full border border-stone-200 bg-white/90 pl-9 pr-3 text-sm text-stone-700 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200",value:$,onChange:e=>Q(e.target.value)})]}),(0,a.jsx)("select",{className:"h-10 rounded-full border border-stone-200 bg-white/90 px-3 text-sm text-stone-700 shadow-sm focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200",value:K,onChange:e=>X(e.target.value),children:e_.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/80 p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:W("Filters")}),(0,a.jsx)("h3",{className:"mt-3 text-lg font-semibold text-stone-900",children:W("Refine by metadata")}),(0,a.jsx)("p",{className:"mt-2 text-sm text-stone-600",children:W("Add filters using your schema field names and values.")})]}),G.length>0?(0,a.jsx)(y.z,{size:"sm",variant:"ghost",onClick:()=>{J([])},children:W("Clear filters")}):null]}),"loading"===H.status?(0,a.jsx)("p",{className:"mt-4 text-sm text-stone-500",children:W("Loading available fields...")}):"error"===H.status?(0,a.jsx)("p",{className:"mt-4 text-sm text-rose-600",children:W(null!==(R=H.error)&&void 0!==R?R:"We couldn't load fields for filtering.")}):0===H.data.length?(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm text-stone-600",children:[(0,a.jsx)("p",{children:W("Define schema fields before filtering items.")}),(0,a.jsx)(y.z,{size:"sm",variant:"secondary",asChild:!0,children:(0,a.jsx)(r.default,{href:"/collections/".concat(U,"/settings"),children:W("Define schema")})})]}):(0,a.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-end gap-3",children:[(0,a.jsxs)("div",{className:"flex min-w-[200px] flex-1 flex-col gap-2",children:[(0,a.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:W("Field")}),(0,a.jsxs)("select",{className:"h-10 rounded-2xl border border-stone-200 bg-white/90 px-3 text-sm text-stone-700 shadow-sm focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200",value:ee,onChange:e=>et(e.target.value),children:[(0,a.jsx)("option",{value:"",children:W("Select a field")}),eC.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{className:"flex min-w-[200px] flex-1 flex-col gap-2",children:[(0,a.jsx)("label",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:W("Value")}),(null==eM?void 0:eM.field_type)==="select"?(0,a.jsxs)("select",{className:"h-10 rounded-2xl border border-stone-200 bg-white/90 px-3 text-sm text-stone-700 shadow-sm focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200",value:es,onChange:e=>ea(e.target.value),disabled:0===eS.length,children:[(0,a.jsx)("option",{value:"",children:W("Select a value")}),eS.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}):(null==eM?void 0:eM.field_type)==="checkbox"?(0,a.jsxs)("select",{className:"h-10 rounded-2xl border border-stone-200 bg-white/90 px-3 text-sm text-stone-700 shadow-sm focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200",value:es,onChange:e=>ea(e.target.value),children:[(0,a.jsx)("option",{value:"true",children:W("True")}),(0,a.jsx)("option",{value:"false",children:W("False")})]}):(0,a.jsx)("input",{type:(null==eM?void 0:eM.field_type)==="number"?"number":(null==eM?void 0:eM.field_type)==="date"?"date":(null==eM?void 0:eM.field_type)==="timestamp"?"datetime-local":"text",step:(null==eM?void 0:eM.field_type)==="number"?"any":void 0,className:"h-10 rounded-2xl border border-stone-200 bg-white/90 px-3 text-sm text-stone-700 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200",placeholder:W("Enter value"),value:es,onChange:e=>ea(e.target.value),disabled:!eM})]}),(0,a.jsxs)(y.z,{variant:"secondary",className:"h-10",onClick:()=>{if(!eM){er("Select a field to filter.");return}let e=es.trim();if(!e){er("Enter a value to filter.");return}eN.current+=1,J(t=>[...t,{id:"filter-".concat(eN.current),fieldId:eM.id,fieldName:eM.name,value:e}]),ea(""),et("")},children:[(0,a.jsx)(f,{className:"h-4 w-4"}),W("Add filter")]})]}),el?(0,a.jsx)("p",{className:"text-sm text-rose-600",children:W(el)}):null,G.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:G.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-stone-200 bg-stone-100 px-3 py-1 text-xs text-stone-600",children:[(0,a.jsx)(p.Z,{className:"h-3.5 w-3.5 text-amber-600"}),(0,a.jsx)("span",{className:"font-medium text-stone-700",children:e.fieldName}),(0,a.jsx)("span",{children:"="}),(0,a.jsx)("span",{className:"text-stone-500",children:e.value}),(0,a.jsx)("button",{type:"button",className:"text-stone-400 transition hover:text-stone-700",onClick:()=>eP(e.id),"aria-label":W("Remove filter {name}",{name:e.fieldName}),children:(0,a.jsx)(g.Z,{className:"h-3.5 w-3.5"})})]},e.id))}):(0,a.jsx)("p",{className:"text-sm text-stone-500",children:W("No filters applied. Use the controls above to narrow the list.")})]})]}),"loading"===Y.status?(0,a.jsx)("div",{className:"rounded-3xl border border-dashed border-stone-200 bg-white/80 p-8 text-sm text-stone-500","aria-busy":"true",children:W("Loading items...")}):"error"===Y.status?(0,a.jsxs)("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/80 p-6",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-rose-700",children:W("We hit a snag loading items.")}),(0,a.jsx)("p",{className:"mt-2 text-sm text-rose-600",children:W(null!==(E=Y.error)&&void 0!==E?E:"Please try again.")}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(y.z,{variant:"outline",onClick:eR,children:W("Try again")})})]}):0===Y.data.length?(0,a.jsx)("div",{className:"rounded-3xl border border-stone-200 bg-white/80 p-8",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:W("No items yet")}),(0,a.jsx)("h3",{className:"font-display mt-3 text-2xl text-stone-900",children:W("Start capturing your first item.")}),(0,a.jsx)("p",{className:"mt-3 max-w-xl text-sm text-stone-600",children:W("Add an item to begin cataloguing metadata and imagery for this collection.")}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3",children:[(0,a.jsx)(y.z,{asChild:!0,children:(0,a.jsx)(r.default,{href:"/collections/".concat(U,"/items/new"),children:W("Add item")})}),(0,a.jsx)(y.z,{variant:"outline",onClick:eR,children:W("Refresh items")}),(0,a.jsx)(y.z,{variant:"ghost",asChild:!0,children:(0,a.jsx)(r.default,{href:"/collections/".concat(U,"/settings"),children:W("Review schema")})})]})]}),(0,a.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-amber-100 text-amber-700",children:(0,a.jsx)(h.Z,{className:"h-8 w-8"})})]})}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"grid gap-4 lg:grid-cols-2",children:Y.data.map(e=>{var t,s,l,r;let n=Object.entries(null!==(t=e.metadata)&&void 0!==t?t:{}),i=null!==(s=e.image_count)&&void 0!==s?s:0,o=1===i?W("{count} image",{count:i}):W("{count} images",{count:i}),c=null!==(l=e.star_count)&&void 0!==l?l:0,d=null!==(r=e.primary_image_id)&&void 0!==r?r:null,u=n.slice(0,4).map(e=>{let[t,s]=e;return{label:t,value:ek(s)}});return(0,a.jsx)(b.x,{href:"/collections/".concat(U,"/items/").concat(e.id),title:e.name,eyebrow:e.is_draft?W("Draft"):W("Item"),createdLabel:W("Added {date}",{date:ew(e.created_at)}),description:e.notes,descriptionFallback:W("No description provided."),metadata:u,metadataFallback:W("No metadata captured yet."),metadataOverflowLabel:W("+{count} more fields",{count:Math.max(n.length-2,0)}),imageSrc:d?j.Rf.url(d,"medium"):null,imageAlt:e.name,imageFallbackLabel:W("No image"),starCount:c,imageCount:i,imageCountLabel:o,isHighlighted:e.is_highlight,highlightClassName:"border-amber-400 ring-2 ring-amber-300/70 shadow-[0_0_0_1px_rgba(251,191,36,0.85),0_0_28px_2px_rgba(217,119,6,0.25)]",openLabel:W("Open")},e.id)})}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[ed?(0,a.jsx)("p",{className:"text-xs text-rose-600",children:W(ed)}):null,Y.hasMore?(0,a.jsx)(y.z,{variant:"outline",disabled:eo,onClick:eD,children:eo?W("Loading more..."):W("Load more items")}):(0,a.jsx)("p",{className:"text-xs text-stone-500",children:W("You have reached the end of the list.")})]})]})]})]})}},1918:function(e,t,s){"use strict";s.d(t,{x:function(){return m}});var a=s(7437),l=s(7138),r=s(6648),n=s(8604),i=s(9338);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,s(1066).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var c=s(4069),d=s(7440);let u=(e,t)=>e.length<=t?e:"".concat(e.slice(0,t),"...");function m(e){let{href:t,title:s,eyebrow:m,createdLabel:x,description:h,descriptionFallback:f,metadata:p=[],metadataFallback:g,metadataOverflowLabel:b,imageSrc:v,imageAlt:y,imageFallbackLabel:j,starCount:N,imageCount:w,imageCountLabel:k,isHighlighted:C=!1,highlightClassName:_,onToggleStar:M,isStarred:S=!1,starDisabled:Z=!1,openLabel:z,className:L}=e,A=u(s,70),R=(null==h?void 0:h.trim())?u(h,180):f,E=p.slice(0,2),P=p.length>E.length,D=(0,c.N)(null!=v?v:null);return(0,a.jsxs)("article",{className:(0,d.cn)("flex h-full min-h-[31rem] flex-col rounded-3xl border border-stone-200 bg-white/90 p-5 shadow-sm",C?_:null,L),children:[(0,a.jsxs)(l.default,{href:t,className:"flex flex-1 flex-col",children:[(0,a.jsx)("div",{className:"h-44 overflow-hidden rounded-2xl border border-stone-100 bg-stone-50",children:D?(0,a.jsx)(r.default,{src:D,alt:null!=y?y:s,width:640,height:352,className:"block h-full w-full object-cover",unoptimized:!0}):(0,a.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-2 bg-gradient-to-br from-stone-100 via-stone-50 to-amber-100/50 text-stone-500",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 text-amber-700"}),(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.2em]",children:j})]})}),(0,a.jsx)("p",{className:"mt-4 text-[10px] font-medium uppercase tracking-[0.3em] text-stone-400",children:m}),(0,a.jsx)("h3",{className:"mt-2 min-h-[3.25rem] text-lg font-semibold leading-snug text-stone-900",children:A}),(0,a.jsx)("p",{className:"mt-1 min-h-[1.25rem] text-xs text-stone-500",children:null!=x?x:"\xa0"}),(0,a.jsx)("p",{className:"mt-3 min-h-[3.5rem] text-sm text-stone-600",children:R}),(0,a.jsx)("div",{className:"mt-4 h-24 rounded-2xl border border-stone-100 bg-stone-50 px-3 py-3 text-xs text-stone-600",children:0===E.length?(0,a.jsx)("p",{className:"text-stone-500",children:g}):(0,a.jsxs)("div",{className:"space-y-2",children:[E.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsx)("span",{className:"font-medium text-stone-700",children:u(e.label,24)}),(0,a.jsx)("span",{className:"text-right text-stone-500",children:u(e.value,28)})]},"".concat(e.label,"-").concat(e.value))),P?(0,a.jsx)("p",{className:"text-[11px] text-stone-400",children:null!=b?b:"+".concat(p.length-E.length," more")}):null]})})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:["number"==typeof N?M?(0,a.jsxs)("button",{type:"button",className:(0,d.cn)("inline-flex items-center gap-1 rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-xs font-medium text-stone-600 transition","hover:border-amber-300 hover:text-amber-700",Z?"cursor-not-allowed opacity-60":null),onClick:M,disabled:Z,children:[(0,a.jsx)(i.Z,{className:(0,d.cn)("h-3.5 w-3.5",S?"fill-current text-amber-600":"text-amber-600")}),N]}):(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-xs font-medium text-stone-600",children:[(0,a.jsx)(i.Z,{className:"h-3.5 w-3.5 text-amber-600"}),N]}):null,"number"==typeof w?(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-xs font-medium text-stone-600",children:[(0,a.jsx)(n.Z,{className:"h-3.5 w-3.5 text-amber-600"}),"string"==typeof k&&k.trim()?k:w]}):null]}),(0,a.jsxs)(l.default,{href:t,className:"inline-flex items-center gap-1 text-xs font-medium uppercase tracking-[0.2em] text-stone-500 transition hover:text-stone-900",children:[z,(0,a.jsx)(o,{className:"h-3.5 w-3.5"})]})]})]})}},495:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var a=s(7437),l=s(2265),r=s(2974),n=s(3027),i=s(7440);let o=(0,n.j)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,t)=>{let{className:s,variant:l,size:n,asChild:c=!1,...d}=e,u=c?r.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:l,size:n,className:s})),ref:t,...d})});c.displayName="Button"},4069:function(e,t,s){"use strict";s.d(t,{N:function(){return l}});var a=s(2265);function l(e){let[t,s]=a.useState(null);return a.useEffect(()=>{if(!e){s(e=>(e&&URL.revokeObjectURL(e),null));return}let t=null,a=new AbortController;return(async()=>{try{let l=window.localStorage.getItem("antique_access_token"),r={};l&&(r.Authorization="Bearer ".concat(l));let n=await fetch(e,{headers:r,cache:"no-store",signal:a.signal});if(!n.ok){s(null);return}let i=await n.blob();t=URL.createObjectURL(i),s(e=>(e&&URL.revokeObjectURL(e),t))}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)return;s(null)}})(),()=>{a.abort(),t&&URL.revokeObjectURL(t)}},[e]),t}},7440:function(e,t,s){"use strict";s.d(t,{cn:function(){return r}});var a=s(4839),l=s(6164);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,a.W)(t))}},1066:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(2265),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let s=(0,a.forwardRef)((s,n)=>{let{color:i="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:m,...x}=s;return(0,a.createElement)("svg",{ref:n,...l,width:o,height:o,stroke:i,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(r(e)),u].join(" "),...x},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s}},5137:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7385:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},8604:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},2513:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4378:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},4817:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9338:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},6717:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},4697:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6463:function(e,t,s){"use strict";var a=s(1169);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[165,138,648,846,971,23,744],function(){return e(e.s=9805)}),_N_E=e.O()}]);