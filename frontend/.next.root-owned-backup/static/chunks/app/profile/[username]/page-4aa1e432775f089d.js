(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{5955:function(e,t,s){Promise.resolve().then(s.bind(s,7344))},7344:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var a=s(7437),r=s(2265),n=s(6648),l=s(7138),i=s(6463),o=s(5137),d=s(8496),c=s(7524),u=s(9338),x=s(8281),m=s(4817),h=s(7385),f=s(2328),p=s(1295),b=s(495),g=s(6264);function v(){var e,t,s;let v=(0,i.useParams)(),j=Array.isArray(null==v?void 0:v.username)?v.username[0]:null==v?void 0:v.username,{t:y,locale:N}=(0,p.Q)(),{user:w}=(0,f.a)(),[k,C]=r.useState({status:"loading",data:null}),[Z,P]=r.useState({status:"loading",data:[]}),[_,A]=r.useState(""),M=r.useCallback(e=>{if(!e)return"-";let t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat(N,{month:"short",day:"numeric",year:"numeric"}).format(t)},[N]),S=r.useCallback(async()=>{if(!j){C({status:"error",data:null,error:"Profile not found"});return}C(e=>({...e,status:"loading",error:void 0}));try{let e=await g.c_.getPublic(j);C({status:"ready",data:e})}catch(e){C(t=>({status:"error",data:t.data,error:(0,g.k0)(e)?e.detail:"Profile not found"}))}},[j]),z=r.useCallback(async()=>{if(!j){P({status:"error",data:[],error:"Profile not found"});return}P(e=>({...e,status:"loading",error:void 0}));try{let e=await g.c_.listPublicCollections(j);P({status:"ready",data:e})}catch(e){P(t=>({status:"error",data:t.data,error:(0,g.k0)(e)?e.detail:"We couldn't load public collections."}))}},[j]);r.useEffect(()=>{S(),z()},[z,S]);let L=(null===(e=k.data)||void 0===e?void 0:e.username)===(null==w?void 0:w.username),E=r.useMemo(()=>{let e=_.trim().toLowerCase();return e?Z.data.filter(t=>{var s;let a=null!==(s=t.description)&&void 0!==s?s:"";return t.name.toLowerCase().includes(e)||a.toLowerCase().includes(e)}):Z.data},[_,Z.data]);return(0,a.jsxs)("main",{className:"min-h-screen bg-stone-50 text-stone-950",children:[(0,a.jsx)("header",{className:"border-b border-stone-200/80 bg-stone-50/80 px-6 py-6 backdrop-blur lg:px-12",children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-6xl items-center justify-between",children:[(0,a.jsxs)(l.default,{href:"/",className:"flex items-center gap-3",children:[(0,a.jsx)(n.default,{src:"/logo.png",alt:"Antique Catalogue",width:44,height:44,className:"rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-display text-lg tracking-tight",children:y("Antique Catalogue")}),(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-stone-500",children:y("Studio Archive")})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(b.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsxs)(l.default,{href:"/explore",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),y("Back to explore")]})}),L?(0,a.jsx)(b.z,{variant:"secondary",size:"sm",asChild:!0,children:(0,a.jsx)(l.default,{href:"/profile",children:y("Edit profile")})}):null]})]})}),(0,a.jsx)("section",{className:"mx-auto max-w-6xl px-6 py-10 lg:px-12",children:"loading"===k.status?(0,a.jsx)("div",{className:"rounded-3xl border border-dashed border-stone-200 bg-white/80 p-8 text-sm text-stone-500",children:y("Loading profile...")}):"error"!==k.status&&k.data?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/90 p-6 shadow-sm",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.4em] text-amber-700",children:y("Profile")}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-5",children:[(0,a.jsx)("div",{className:"relative h-20 w-20 shrink-0 overflow-hidden rounded-full border-2 border-stone-200 bg-stone-100",children:k.data.has_avatar?(0,a.jsx)(n.default,{src:(0,g.Qx)(k.data.id,"medium"),alt:k.data.username,width:80,height:80,className:"h-full w-full object-cover",unoptimized:!0}):(0,a.jsx)("div",{className:"flex h-full w-full items-center justify-center bg-stone-900 text-lg font-semibold text-stone-50",children:k.data.username.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"font-display text-3xl text-stone-900",children:["@",k.data.username]}),(0,a.jsx)("p",{className:"mt-1 text-sm text-stone-600",children:y("Member since {date}",{date:M(k.data.created_at)})})]})]})]}),(0,a.jsxs)("div",{className:"rounded-3xl border border-stone-900 bg-stone-950 p-5 text-stone-100",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:y("Public summary")}),(0,a.jsxs)("div",{className:"mt-4 grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-800 bg-stone-900/70 p-4",children:[(0,a.jsxs)("p",{className:"inline-flex items-center gap-2 text-xs text-stone-300",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 text-amber-300"}),y("Public collections")]}),(0,a.jsx)("p",{className:"mt-2 text-2xl font-semibold text-stone-100",children:k.data.public_collection_count})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-800 bg-stone-900/70 p-4",children:[(0,a.jsxs)("p",{className:"inline-flex items-center gap-2 text-xs text-stone-300",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 text-amber-300"}),y("Public items")]}),(0,a.jsx)("p",{className:"mt-2 text-2xl font-semibold text-stone-100",children:k.data.public_item_count})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-800 bg-stone-900/70 p-4",children:[(0,a.jsxs)("p",{className:"inline-flex items-center gap-2 text-xs text-stone-300",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 text-amber-300"}),y("Stars earned")]}),(0,a.jsx)("p",{className:"mt-2 text-2xl font-semibold text-stone-100",children:k.data.earned_star_count})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-800 bg-stone-900/70 p-4",children:[(0,a.jsxs)("p",{className:"inline-flex items-center gap-2 text-xs text-stone-300",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 text-amber-300"}),y("Star rank")]}),(0,a.jsxs)("p",{className:"mt-2 text-2xl font-semibold text-stone-100",children:["#",k.data.star_rank]})]})]})]}),(0,a.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/90 p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:y("Public collections")}),(0,a.jsx)("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:y("Browse public collections")})]}),(0,a.jsx)("span",{className:"text-xs text-stone-500",children:y("{count} total",{count:Z.data.length})})]}),(0,a.jsxs)("div",{className:"relative mt-4 max-w-xl",children:[(0,a.jsx)(m.Z,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-stone-400"}),(0,a.jsx)("input",{type:"search",className:"h-10 w-full rounded-full border border-stone-200 bg-white pl-9 pr-3 text-sm text-stone-700 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200",placeholder:y("Search collections"),value:_,onChange:e=>A(e.target.value)})]}),"loading"===Z.status&&0===Z.data.length?(0,a.jsx)("p",{className:"mt-6 text-sm text-stone-500",children:y("Loading collections...")}):"error"===Z.status&&0===Z.data.length?(0,a.jsx)("p",{className:"mt-6 text-sm text-rose-600",children:y(null!==(s=Z.error)&&void 0!==s?s:"We couldn't load public collections.")}):0===E.length?(0,a.jsx)("p",{className:"mt-6 text-sm text-stone-600",children:y("No collections available yet.")}):(0,a.jsx)("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:E.map(e=>{var t,s,r;return(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-200 bg-white/90 p-4 shadow-sm",children:[(0,a.jsx)("h3",{className:"text-base font-semibold text-stone-900",children:e.name}),(0,a.jsx)("p",{className:"mt-1 text-xs text-stone-600",children:null!==(t=e.description)&&void 0!==t?t:y("No description provided.")}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 text-xs text-stone-500",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)(h.Z,{className:"h-3.5 w-3.5 text-amber-600"}),y("Created {date}",{date:M(e.created_at)})]}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)(u.Z,{className:"h-3.5 w-3.5 text-amber-600"}),null!==(s=e.star_count)&&void 0!==s?s:0]}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)(d.Z,{className:"h-3.5 w-3.5 text-amber-600"}),null!==(r=e.item_count)&&void 0!==r?r:0]})]}),(0,a.jsx)(b.z,{size:"sm",variant:"secondary",asChild:!0,children:(0,a.jsx)(l.default,{href:"/explore/".concat(e.id),children:y("View collection")})})]})]},e.id)})})]})]}):(0,a.jsxs)("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/80 p-8",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-rose-700",children:y("Profile not found")}),(0,a.jsx)("p",{className:"mt-2 text-sm text-rose-600",children:y(null!==(t=k.error)&&void 0!==t?t:"Profile not found")})]})})]})}},2328:function(e,t,s){"use strict";s.d(t,{H:function(){return i},a:function(){return o}});var a=s(7437),r=s(2265),n=s(6264);let l=r.createContext(void 0),i=e=>{let{children:t}=e,[s,i]=r.useState(null),[o,d]=r.useState("loading"),[c,u]=r.useState(null),x=r.useCallback(async()=>{d("loading"),u(null);try{let e=await n.iJ.me();i(e),d("authenticated")}catch(e){i(null),(0,n.k0)(e)&&(401===e.status||403===e.status)?d("unauthenticated"):(d("unauthenticated"),u((0,n.k0)(e)?e.detail:"Unable to reach server"))}},[]);r.useEffect(()=>{x()},[x]);let m=r.useCallback(async e=>{u(null),await n.iJ.login(e),await x()},[x]),h=r.useCallback(async()=>{u(null);try{await n.iJ.logout()}finally{i(null),d("unauthenticated")}},[]),f=r.useCallback(async()=>{await x()},[x]),p=r.useMemo(()=>({user:s,status:o,error:c,isAuthenticated:"authenticated"===o,login:m,logout:h,refresh:f}),[s,o,c,m,h,f]);return(0,a.jsx)(l.Provider,{value:p,children:t})},o=()=>{let e=r.useContext(l);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},495:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var a=s(7437),r=s(2265),n=s(2974),l=s(3027),i=s(7440);let o=(0,l.j)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:r,size:l,className:s})),ref:t,...c})});d.displayName="Button"},7440:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(4839),r=s(6164);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},1066:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{color:i="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:u="",children:x,...m}=s;return(0,a.createElement)("svg",{ref:l,...r,width:o,height:o,stroke:i,strokeWidth:c?24*Number(d)/Number(o):d,className:["lucide","lucide-".concat(n(e)),u].join(" "),...m},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(x)?x:[x]])});return s.displayName="".concat(e),s}},5137:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8281:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},7385:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},8496:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},7524:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},4817:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9338:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},6463:function(e,t,s){"use strict";var a=s(1169);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[165,138,648,846,971,23,744],function(){return e(e.s=5955)}),_N_E=e.O()}]);