(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9857:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o}),s(8748),s(9157),s(5866);var a=s(3191),l=s(8716),r=s(7922),n=s.n(r),i=s(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8748)),"/home/endogen/projects/antique-catalogue/frontend/app/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9157)),"/home/endogen/projects/antique-catalogue/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/endogen/projects/antique-catalogue/frontend/app/admin/page.tsx"],x="/admin/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7981:(e,t,s)=>{Promise.resolve().then(s.bind(s,1854))},1854:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(326),l=s(7577),r=s(6226),n=s(434),i=s(1468),d=s(1810),o=s(6557);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,o.Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var x=s(8122);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,o.Z)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),u=(0,o.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var h=s(9015),p=s(8091),b=s(8705),g=s(772),f=s(6115),j=s(6824);let y=(e,t)=>{if(!e)return"-";let s=new Date(e);return Number.isNaN(s.getTime())?e:new Intl.DateTimeFormat(t,{month:"short",day:"numeric",year:"numeric"}).format(s)};function N(){let{t:e,locale:t}=(0,f.Q)(),[s,o]=l.useState(!1),[N,v]=l.useState(!1),[w,k]=l.useState(""),[_,S]=l.useState(""),[C,z]=l.useState(null),[q,M]=l.useState(null),[P,Z]=l.useState([]),[A,U]=l.useState(0),[L,D]=l.useState(0),[E,F]=l.useState("idle"),[T,I]=l.useState([]),[R,V]=l.useState(0),[$,G]=l.useState(0),[O,W]=l.useState("idle"),[H,B]=l.useState(null),[K,Q]=l.useState(""),[X,J]=l.useState(""),[Y,ee]=l.useState([]),[et,es]=l.useState(0),[ea,el]=l.useState(0),[er,en]=l.useState("idle"),[ei,ed]=l.useState(null),[eo,ec]=l.useState(""),[ex,em]=l.useState(""),[eu,eh]=l.useState({status:"idle",data:[]}),[ep,eb]=l.useState([]),[eg,ef]=l.useState(null),[ej,ey]=l.useState(null),[eN,ev]=l.useState(!1),[ew,ek]=l.useState(null),[e_,eS]=l.useState(null),[eC,ez]=l.useState(null),[eq,eM]=l.useState(null),[eP,eZ]=l.useState(null),eA=l.useCallback(async e=>{F("loading"),ek(null);try{let[t,s]=await Promise.all([j.Nq.stats(),j.Nq.collections({offset:10*e,limit:10})]);M(t),Z(s.items),U(s.total_count),F("idle")}catch(e){F("error"),ek((0,j.k0)(e)?e.detail:"We couldn't load admin data.")}},[]),eU=l.useCallback(async e=>{W("loading"),B(null);try{let t=X.trim(),s=await j.Nq.users({offset:10*e,limit:10,q:t||void 0});I(s.items),V(s.total_count),W("idle")}catch(e){W("error"),B((0,j.k0)(e)?e.detail:"Unable to load users.")}},[X]),eL=l.useCallback(async e=>{en("loading"),ed(null);try{let t=ex.trim(),s=await j.Nq.items({offset:10*e,limit:10,q:t||void 0});ee(s.items),es(s.total_count),en("idle")}catch(e){en("error"),ed((0,j.k0)(e)?e.detail:"Unable to load items.")}},[ex]),eD=l.useCallback(async e=>{if(!e){eh({status:"ready",data:[]}),eb([]),ef(null);return}eh(e=>({...e,status:"loading",error:void 0})),ey(null),ef(null);try{let e=await j.Nq.featuredItems();eh({status:"ready",data:e}),eb(e.filter(e=>e.is_featured).map(e=>e.id))}catch(e){eh(t=>({status:"error",data:t.data,error:(0,j.k0)(e)?e.detail:"Unable to load featured items."}))}},[]);l.useEffect(()=>{let e=(0,j.KE)();v(!!e),o(!0),e&&(eA(0),eU(0),eL(0))},[eA,eU,eL]),l.useEffect(()=>{N&&eA(L)},[N,L,eA]),l.useEffect(()=>{N&&eU($)},[N,$,eU]),l.useEffect(()=>{N&&eL(ea)},[N,ea,eL]),l.useEffect(()=>{N&&eD(q?.featured_collection_id??null)},[N,q?.featured_collection_id,eD]);let eE=async e=>{e.preventDefault(),z(null);try{await j.Nq.login({email:w,password:_}),v(!0),D(0),G(0),el(0),eA(0),eU(0),eL(0)}catch(e){z((0,j.k0)(e)?e.detail:"Unable to sign in to the admin console.")}},eF=async e=>{eS(e??-1),ek(null);try{await j.Nq.feature(e),await eA(L)}catch(e){ek((0,j.k0)(e)?e.detail:"Unable to update featured collection.")}finally{eS(null)}},eT=async e=>{ez(e.id),B(null);try{await j.Nq.setUserLocked(e.id,e.is_active),await eU($)}catch(e){B((0,j.k0)(e)?e.detail:"Unable to update user lock status.")}finally{ez(null)}},eI=async t=>{if(window.confirm(e('Delete user "{email}"? This permanently removes their collections and items.',{email:t.email}))){eM(t.id),B(null);try{await j.Nq.deleteUser(t.id),await Promise.all([eA(L),eU($),eL(ea)])}catch(e){B((0,j.k0)(e)?e.detail:"Unable to delete user.")}finally{eM(null)}}},eR=async t=>{if(window.confirm(e('Delete item "{name}"? This cannot be undone.',{name:t.name}))){eZ(t.id),ed(null);try{await j.Nq.deleteItem(t.id),await eL(ea),q?.featured_collection_id===t.collection_id&&await eD(t.collection_id)}catch(e){ed((0,j.k0)(e)?e.detail:"Unable to delete item.")}finally{eZ(null)}}},eV=ep.length,e$=eV>=4,eG=async e=>{if(!q?.featured_collection_id||eN)return;let t=ep.includes(e)?ep.filter(t=>t!==e):ep.length>=4?ep:[...ep,e];if(t!==ep){ev(!0),ef(null),ey(null),eb(t);try{await j.Nq.setFeaturedItems(t),ef("Featured items updated.")}catch(e){eb(ep),ey((0,j.k0)(e)?e.detail:"Unable to update featured items.")}finally{ev(!1)}}};if(!s)return a.jsx("div",{className:"flex min-h-screen items-center justify-center text-sm text-stone-500",children:e("Loading admin console...")});if(!N)return a.jsx("div",{className:"min-h-screen bg-stone-50 px-6 py-12",children:(0,a.jsxs)("div",{className:"mx-auto w-full max-w-md rounded-3xl border border-stone-200 bg-white/90 p-8 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(r.default,{src:"/logo.png",alt:"Antique Catalogue",width:44,height:44,className:"rounded-full"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-display text-lg tracking-tight",children:e("Admin Console")}),a.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-stone-500",children:e("Antique Catalogue")})]})]}),a.jsx("p",{className:"mt-4 text-sm text-stone-600",children:e("Sign in with your admin credentials to manage users, collections, and featured content.")}),C?a.jsx("div",{className:"mt-4 rounded-2xl border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:e(C)}):null,(0,a.jsxs)("form",{className:"mt-6 space-y-4",onSubmit:eE,children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-xs font-medium text-stone-700",htmlFor:"admin-email",children:e("Email")}),a.jsx("input",{id:"admin-email",type:"email",required:!0,value:w,onChange:e=>k(e.target.value),className:"mt-2 w-full rounded-xl border border-stone-200 bg-white px-3 py-2 text-sm text-stone-900 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-xs font-medium text-stone-700",htmlFor:"admin-password",children:e("Password")}),a.jsx("input",{id:"admin-password",type:"password",required:!0,value:_,onChange:e=>S(e.target.value),className:"mt-2 w-full rounded-xl border border-stone-200 bg-white px-3 py-2 text-sm text-stone-900 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200"})]}),a.jsx(g.z,{type:"submit",className:"w-full",children:e("Sign in")})]})]})});let eO=Math.max(1,Math.ceil(A/10)),eW=Math.max(1,Math.ceil(R/10)),eH=Math.max(1,Math.ceil(et/10));return a.jsx("main",{className:"min-h-screen bg-stone-50 px-6 py-10 lg:px-12",children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col gap-8",children:[(0,a.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsxs)(n.default,{href:"/",className:"flex items-center gap-3",children:[a.jsx(r.default,{src:"/logo.png",alt:"Antique Catalogue",width:44,height:44,className:"rounded-full"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-display text-lg tracking-tight",children:e("Antique Catalogue")}),a.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-stone-500",children:e("Studio Archive")})]})]}),a.jsx("div",{className:"hidden h-11 border-l border-stone-200 lg:block"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-amber-700",children:e("Admin")}),a.jsx("h1",{className:"font-display mt-3 text-3xl text-stone-900",children:e("Catalogue administration")}),a.jsx("p",{className:"mt-2 text-sm text-stone-600",children:e("Monitor platform activity, moderate users, and curate featured content.")})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsxs)(g.z,{variant:"outline",onClick:()=>{ek(null),B(null),ed(null),eA(L),eU($),eL(ea),eD(q?.featured_collection_id??null)},children:[a.jsx(i.Z,{className:"h-4 w-4"}),e("Refresh")]}),(0,a.jsxs)(g.z,{variant:"ghost",onClick:()=>{j.Nq.logout(),v(!1),M(null),Z([]),U(0),I([]),V(0),ee([]),es(0),eh({status:"idle",data:[]}),eb([]),ef(null),ey(null),ek(null),B(null),ed(null),Q(""),J(""),ec(""),em("")},children:[a.jsx(d.Z,{className:"h-4 w-4"}),e("Sign out")]})]})]}),ew?a.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:e(ew)}):null,(0,a.jsxs)("section",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-200 bg-white/90 p-5 shadow-sm",children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:e("Total users")}),a.jsx("p",{className:"mt-4 text-3xl font-semibold text-stone-900",children:q?.total_users??"-"}),a.jsx("p",{className:"mt-2 text-sm text-stone-500",children:e("Registered accounts")})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-200 bg-white/90 p-5 shadow-sm",children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:e("Total collections")}),a.jsx("p",{className:"mt-4 text-3xl font-semibold text-stone-900",children:q?.total_collections??"-"}),a.jsx("p",{className:"mt-2 text-sm text-stone-500",children:e("Across all users")})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-200 bg-white/90 p-5 shadow-sm",children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:e("Featured collection")}),a.jsx("p",{className:"mt-4 text-3xl font-semibold text-stone-900",children:q?.featured_collection_id??"-"}),a.jsx("p",{className:"mt-2 text-sm text-stone-500",children:e("Current featured ID")})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 xl:grid-cols-2 xl:items-start",children:[(0,a.jsxs)("section",{className:"rounded-3xl border border-stone-200 bg-white/90 p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:e("Featured selection")}),a.jsx("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:e("Choose a public collection to highlight.")}),a.jsx("p",{className:"mt-2 text-sm text-stone-600",children:e("Collections are sorted by newest first.")})]}),(0,a.jsxs)(g.z,{variant:"outline",onClick:()=>eF(null),disabled:null!==e_,children:[a.jsx(c,{className:"h-4 w-4"}),e("Clear featured")]})]}),"loading"===E?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-stone-200 bg-white/70 p-6 text-sm text-stone-500",children:e("Loading collections...")}):0===P.length?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-stone-200 bg-white/70 p-6 text-sm text-stone-500",children:e("No collections available yet.")}):(0,a.jsxs)("div",{className:"mt-6 space-y-4",children:[P.map(s=>a.jsx("div",{className:"rounded-2xl border border-stone-200 bg-white/80 p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-[minmax(0,1fr)_auto] items-start gap-4",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:e("Collection #{id}",{id:s.id})}),a.jsx("h3",{className:"mt-2 text-lg font-semibold text-stone-900",children:s.name}),a.jsx("p",{className:"mt-2 text-sm text-stone-600",children:s.description??e("No description provided.")}),(0,a.jsxs)("div",{className:"mt-3 flex flex-wrap gap-3 text-xs text-stone-500",children:[a.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-stone-200 bg-stone-50 px-3 py-1",children:e("Owner: {email}",{email:s.owner_email})}),a.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-stone-200 bg-stone-50 px-3 py-1",children:s.is_public?e("Public"):e("Private")}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-stone-200 bg-stone-50 px-3 py-1",children:[a.jsx(x.Z,{className:"h-3.5 w-3.5"}),y(s.created_at,t)]})]})]}),(0,a.jsxs)("div",{className:"flex shrink-0 flex-col items-end gap-2",children:[s.is_featured?(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-3 py-1 text-xs font-medium text-amber-700",children:[a.jsx(m,{className:"h-3.5 w-3.5"}),e("Featured")]}):null,a.jsx(g.z,{size:"sm",variant:"secondary",onClick:()=>eF(s.id),disabled:null!==e_||!s.is_public,children:s.is_public?e("Feature"):e("Private")})]})]})},s.id)),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 pt-2 text-xs text-stone-500",children:[a.jsx("span",{children:e("Page {page} of {total}",{page:L+1,total:eO})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(g.z,{size:"sm",variant:"outline",onClick:()=>D(e=>Math.max(0,e-1)),disabled:0===L,children:e("Previous")}),a.jsx(g.z,{size:"sm",variant:"outline",onClick:()=>D(e=>Math.min(eO-1,e+1)),disabled:L>=eO-1,children:e("Next")})]})]})]})]}),(0,a.jsxs)("section",{className:"rounded-3xl border border-stone-200 bg-white/90 p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:e("Featured items")}),a.jsx("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:e("Curate highlights from the featured collection.")}),a.jsx("p",{className:"mt-2 text-sm text-stone-600",children:e("Select up to {count} items to spotlight on the homepage.",{count:4})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-xs text-stone-500",children:[a.jsx("span",{children:e("{selected} of {count} selected",{selected:eV,count:4})}),eN?a.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-stone-200 bg-stone-50 px-3 py-1",children:e("Saving...")}):null]})]}),eg?a.jsx("div",{className:"mt-6 rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:e(eg)}):null,ej?a.jsx("div",{className:"mt-6 rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:e(ej)}):null,q?.featured_collection_id?"loading"===eu.status?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-stone-200 bg-white/70 p-6 text-sm text-stone-500",children:e("Loading featured items...")}):"error"===eu.status?a.jsx("div",{className:"mt-6 rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:e(eu.error??"Unable to load featured items.")}):0===eu.data.length?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-stone-200 bg-white/70 p-6 text-sm text-stone-500",children:e("No items yet in this collection.")}):a.jsx("div",{className:"mt-6 space-y-3",children:eu.data.map(s=>{let l=ep.includes(s.id);return(0,a.jsxs)("div",{className:"grid grid-cols-[minmax(0,1fr)_auto] items-start gap-4 rounded-2xl border border-stone-200 bg-white/80 p-4",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-stone-900",children:s.name}),a.jsx("p",{className:"mt-1 text-xs text-stone-500",children:e("Added {date}",{date:y(s.created_at,t)})}),s.notes?a.jsx("p",{className:"mt-2 text-xs text-stone-500",children:s.notes}):null]}),a.jsx(g.z,{className:"self-start",size:"sm",variant:l?"secondary":"outline",onClick:()=>eG(s.id),disabled:eN||!l&&e$,children:l?e("Featured"):e("Feature")})]},s.id)})}):a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-stone-200 bg-white/70 p-6 text-sm text-stone-500",children:e("Choose a featured collection to manage highlighted items.")})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 xl:grid-cols-2 xl:items-start",children:[(0,a.jsxs)("section",{className:"rounded-3xl border border-stone-200 bg-white/90 p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:e("User management")}),a.jsx("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:e("Review users, lock access, or remove accounts and their catalogue data.")})]}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-stone-200 bg-stone-50 px-3 py-1 text-xs text-stone-600",children:[a.jsx(u,{className:"h-3.5 w-3.5"}),e("Total users"),": ",R]})]}),(0,a.jsxs)("form",{className:"mt-6 flex flex-wrap items-center gap-2",onSubmit:e=>{e.preventDefault(),G(0),J(K.trim())},children:[a.jsx("input",{value:K,onChange:e=>Q(e.target.value),placeholder:e("Search users by email or username"),className:"h-9 min-w-[220px] flex-1 rounded-xl border border-stone-200 bg-white px-3 text-sm text-stone-900 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200"}),a.jsx(g.z,{type:"submit",size:"sm",variant:"outline",disabled:"loading"===O,children:e("Search")}),a.jsx(g.z,{type:"button",size:"sm",variant:"ghost",onClick:()=>{Q(""),J(""),G(0)},disabled:"loading"===O||!K&&!X,children:e("Clear")})]}),X?a.jsx("p",{className:"mt-3 text-xs text-stone-500",children:e('Showing results for "{query}"',{query:X})}):null,H?a.jsx("div",{className:"mt-6 rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:e(H)}):null,"loading"===O?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-stone-200 bg-white/70 p-6 text-sm text-stone-500",children:e("Loading users...")}):0===T.length?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-stone-200 bg-white/70 p-6 text-sm text-stone-500",children:X?e("No users match this search."):e("No users available yet.")}):(0,a.jsxs)("div",{className:"mt-6 space-y-3",children:[T.map(t=>(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4 rounded-2xl border border-stone-200 bg-white/80 p-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-stone-900",children:t.email}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-stone-500",children:[e("Username"),": ",t.username]}),(0,a.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[a.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 ${t.is_active?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-rose-200 bg-rose-50 text-rose-700"}`,children:t.is_active?e("Active"):e("Locked")}),a.jsx("span",{className:"inline-flex items-center rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-stone-600",children:t.is_verified?e("Verified"):e("Unverified")}),a.jsx("span",{className:"inline-flex items-center rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-stone-600",children:e("Collections: {count}",{count:t.collection_count})}),a.jsx("span",{className:"inline-flex items-center rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-stone-600",children:e("Items: {count}",{count:t.item_count})})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-end gap-2",children:[(0,a.jsxs)(g.z,{size:"sm",variant:"outline",onClick:()=>eT(t),disabled:null!==eC||null!==eq,children:[eC===t.id?a.jsx(i.Z,{className:"h-3.5 w-3.5 animate-spin"}):t.is_active?a.jsx(h.Z,{className:"h-3.5 w-3.5"}):a.jsx(c,{className:"h-3.5 w-3.5"}),t.is_active?e("Lock"):e("Unlock")]}),(0,a.jsxs)(g.z,{size:"sm",variant:"outline",className:"border-rose-200 text-rose-700 hover:bg-rose-50",onClick:()=>eI(t),disabled:null!==eq||null!==eC,children:[a.jsx(p.Z,{className:"h-3.5 w-3.5"}),eq===t.id?e("Deleting..."):e("Delete")]})]})]},t.id)),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 pt-2 text-xs text-stone-500",children:[a.jsx("span",{children:e("Page {page} of {total}",{page:$+1,total:eW})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(g.z,{size:"sm",variant:"outline",onClick:()=>G(e=>Math.max(0,e-1)),disabled:0===$,children:e("Previous")}),a.jsx(g.z,{size:"sm",variant:"outline",onClick:()=>G(e=>Math.min(eW-1,e+1)),disabled:$>=eW-1,children:e("Next")})]})]})]})]}),(0,a.jsxs)("section",{className:"rounded-3xl border border-stone-200 bg-white/90 p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:e("Item moderation")}),a.jsx("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:e("Review the latest items across all collections and remove entries when needed.")})]}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-stone-200 bg-stone-50 px-3 py-1 text-xs text-stone-600",children:[a.jsx(b.Z,{className:"h-3.5 w-3.5"}),e("Total items"),": ",et]})]}),(0,a.jsxs)("form",{className:"mt-6 flex flex-wrap items-center gap-2",onSubmit:e=>{e.preventDefault(),el(0),em(eo.trim())},children:[a.jsx("input",{value:eo,onChange:e=>ec(e.target.value),placeholder:e("Search items by name, notes, collection, or owner"),className:"h-9 min-w-[220px] flex-1 rounded-xl border border-stone-200 bg-white px-3 text-sm text-stone-900 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200"}),a.jsx(g.z,{type:"submit",size:"sm",variant:"outline",disabled:"loading"===er,children:e("Search")}),a.jsx(g.z,{type:"button",size:"sm",variant:"ghost",onClick:()=>{ec(""),em(""),el(0)},disabled:"loading"===er||!eo&&!ex,children:e("Clear")})]}),ex?a.jsx("p",{className:"mt-3 text-xs text-stone-500",children:e('Showing results for "{query}"',{query:ex})}):null,ei?a.jsx("div",{className:"mt-6 rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:e(ei)}):null,"loading"===er?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-stone-200 bg-white/70 p-6 text-sm text-stone-500",children:e("Loading items...")}):0===Y.length?a.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-stone-200 bg-white/70 p-6 text-sm text-stone-500",children:ex?e("No items match this search."):e("No items available yet.")}):(0,a.jsxs)("div",{className:"mt-6 space-y-3",children:[Y.map(s=>(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4 rounded-2xl border border-stone-200 bg-white/80 p-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-stone-900",children:s.name}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-stone-500",children:[e("Collection #{id}",{id:s.collection_id}),": ",s.collection_name]}),a.jsx("p",{className:"mt-1 text-xs text-stone-500",children:e("Owner: {email}",{email:s.owner_email})}),(0,a.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-stone-600",children:[a.jsx("span",{className:"inline-flex items-center rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1",children:e("Images: {count}",{count:s.image_count})}),s.is_featured?a.jsx("span",{className:"inline-flex items-center rounded-full border border-amber-200 bg-amber-50 px-2.5 py-1 text-amber-700",children:e("Featured")}):null,s.is_highlight?a.jsx("span",{className:"inline-flex items-center rounded-full border border-amber-200 bg-amber-50 px-2.5 py-1 text-amber-700",children:e("Spotlight")}):null]}),s.notes?a.jsx("p",{className:"mt-2 line-clamp-2 text-xs text-stone-500",children:s.notes}):null]}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-end gap-2",children:[(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-stone-200 bg-stone-50 px-3 py-1 text-xs text-stone-600",children:[a.jsx(x.Z,{className:"h-3.5 w-3.5"}),y(s.created_at,t)]}),(0,a.jsxs)(g.z,{size:"sm",variant:"outline",className:"border-rose-200 text-rose-700 hover:bg-rose-50",onClick:()=>eR(s),disabled:null!==eP,children:[a.jsx(p.Z,{className:"h-3.5 w-3.5"}),eP===s.id?e("Deleting..."):e("Delete")]})]})]},s.id)),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 pt-2 text-xs text-stone-500",children:[a.jsx("span",{children:e("Page {page} of {total}",{page:ea+1,total:eH})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(g.z,{size:"sm",variant:"outline",onClick:()=>el(e=>Math.max(0,e-1)),disabled:0===ea,children:e("Previous")}),a.jsx(g.z,{size:"sm",variant:"outline",onClick:()=>el(e=>Math.min(eH-1,e+1)),disabled:ea>=eH-1,children:e("Next")})]})]})]})]})]})]})})}},772:(e,t,s)=>{"use strict";s.d(t,{z:()=>o});var a=s(326),l=s(7577),r=s(6438),n=s(9360),i=s(7863);let d=(0,n.j)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=l.forwardRef(({className:e,variant:t,size:s,asChild:l=!1,...n},o)=>{let c=l?r.g7:"button";return a.jsx(c,{className:(0,i.cn)(d({variant:t,size:s,className:e})),ref:o,...n})});o.displayName="Button"},7863:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(1135),l=s(1009);function r(...e){return(0,l.m6)((0,a.W)(e))}},6557:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(7577),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:o="",children:c,...x},m)=>(0,a.createElement)("svg",{ref:m,...l,width:n,height:n,stroke:s,strokeWidth:d?24*Number(i)/Number(n):i,className:["lucide",`lucide-${r(e)}`,o].join(" "),...x},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s}},8122:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},9015:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},1810:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},8705:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},1468:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},8091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8748:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>i});var a=s(8570);let l=(0,a.createProxy)(String.raw`/home/endogen/projects/antique-catalogue/frontend/app/admin/page.tsx`),{__esModule:r,$$typeof:n}=l;l.default;let i=(0,a.createProxy)(String.raw`/home/endogen/projects/antique-catalogue/frontend/app/admin/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[716,697,449],()=>s(9857));module.exports=a})();