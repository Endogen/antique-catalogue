(()=>{var e={};e.id=735,e.ids=[735],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3820:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(2062),s(639),s(5866),s(9157);var a=s(3191),r=s(8716),n=s(7922),l=s.n(n),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["(app)",{children:["collections",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2062)),"/home/endogen/projects/antique-catalogue/frontend/app/(app)/collections/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,639)),"/home/endogen/projects/antique-catalogue/frontend/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,9157)),"/home/endogen/projects/antique-catalogue/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/endogen/projects/antique-catalogue/frontend/app/(app)/collections/page.tsx"],x="/(app)/collections/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(app)/collections/page",pathname:"/collections",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3928:(e,t,s)=>{Promise.resolve().then(s.bind(s,66))},66:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(326),r=s(7577),n=s(434),l=s(8332),i=s(9015),o=s(1468),c=s(3855),d=s(1572),x=s(5983),m=s(8122),h=s(3734),p=s(6115),u=s(772),g=s(6824);let j=(e,t)=>{if(!e)return"â€”";let s=new Date(e);return Number.isNaN(s.getTime())?e:new Intl.DateTimeFormat(t,{month:"short",day:"numeric",year:"numeric"}).format(s)};function f(){let{t:e,locale:t}=(0,p.Q)(),[s,f]=r.useState({status:"loading",data:[]}),b=r.useCallback(async()=>{f(e=>({...e,status:"loading",error:void 0}));try{let e=await g.Wo.list();f({status:"ready",data:e})}catch(e){f(t=>({status:"error",data:t.data,error:(0,g.k0)(e)?e.detail:"We couldn't load your collections."}))}},[]);r.useEffect(()=>{b()},[b]);let y=s.data.length,v=s.data.filter(e=>e.is_public).length,N=s.data.reduce((e,t)=>e+(t.item_count??0),0),w=t=>t.is_public?{label:e("Public"),Icon:l.Z,className:"border-emerald-200 bg-emerald-50 text-emerald-700"}:{label:e("Private"),Icon:i.Z,className:"border-amber-200 bg-amber-50 text-amber-700"};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("header",{className:"flex flex-wrap items-start justify-between gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-amber-700",children:e("Collections")}),a.jsx("h1",{className:"font-display mt-4 text-3xl text-stone-900",children:e("Curate and organize your archive.")}),a.jsx("p",{className:"mt-3 max-w-2xl text-sm text-stone-600",children:e("Build collections for every category of antique, then capture metadata, imagery, and provenance in one focused workspace.")})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsxs)(u.z,{variant:"outline",onClick:()=>b(),children:[a.jsx(o.Z,{className:"h-4 w-4"}),e("Refresh")]}),a.jsx(u.z,{asChild:!0,children:(0,a.jsxs)(n.default,{href:"/collections/new",children:[a.jsx(c.Z,{className:"h-4 w-4"}),e("Create collection")]})})]})]}),(0,a.jsxs)("section",{className:"grid gap-4 md:grid-cols-4",children:[(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-200 bg-white/80 p-5 shadow-sm",children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:e("Total items")}),a.jsx("p",{className:"mt-4 text-3xl font-semibold text-stone-900",children:N}),a.jsx("p",{className:"mt-2 text-sm text-stone-500",children:e("Catalogued across your collections.")})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-200 bg-white/80 p-5 shadow-sm",children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:e("Total collections")}),a.jsx("p",{className:"mt-4 text-3xl font-semibold text-stone-900",children:y}),a.jsx("p",{className:"mt-2 text-sm text-stone-500",children:e("All archives in your studio.")})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-200 bg-white/80 p-5 shadow-sm",children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:e("Public collections")}),a.jsx("p",{className:"mt-4 text-3xl font-semibold text-stone-900",children:v}),a.jsx("p",{className:"mt-2 text-sm text-stone-500",children:e("Visible in the public directory.")})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-200 bg-white/80 p-5 shadow-sm",children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-400",children:e("Private collections")}),a.jsx("p",{className:"mt-4 text-3xl font-semibold text-stone-900",children:y-v}),a.jsx("p",{className:"mt-2 text-sm text-stone-500",children:e("Internal research and drafts.")})]})]}),(0,a.jsxs)("section",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:e("Your archive")}),a.jsx("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:e("Active collections")})]}),a.jsx(u.z,{variant:"ghost",asChild:!0,children:(0,a.jsxs)(n.default,{href:"/explore",children:[a.jsx(d.Z,{className:"h-4 w-4"}),e("Explore public collections")]})})]}),"loading"===s.status?a.jsx("div",{className:"rounded-3xl border border-dashed border-stone-200 bg-white/80 p-8 text-sm text-stone-500","aria-busy":"true",children:e("Loading your collections...")}):"error"===s.status?(0,a.jsxs)("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/80 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-rose-700",children:e("We hit a snag loading collections.")}),a.jsx("p",{className:"mt-2 text-sm text-rose-600",children:e(s.error??"Please try again.")}),a.jsx("div",{className:"mt-4",children:a.jsx(u.z,{variant:"outline",onClick:()=>b(),children:e("Try again")})})]}):0===s.data.length?a.jsx("div",{className:"rounded-3xl border border-stone-200 bg-white/80 p-8 shadow-sm",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:e("No collections yet")}),a.jsx("h3",{className:"font-display mt-3 text-2xl text-stone-900",children:e("Start by defining your first collection.")}),a.jsx("p",{className:"mt-3 max-w-xl text-sm text-stone-600",children:e("Create a collection to set up metadata fields, then begin documenting items and images from any device.")}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3",children:[a.jsx(u.z,{asChild:!0,children:(0,a.jsxs)(n.default,{href:"/collections/new",children:[a.jsx(c.Z,{className:"h-4 w-4"}),e("Create collection")]})}),a.jsx(u.z,{variant:"outline",asChild:!0,children:a.jsx(n.default,{href:"/explore",children:e("Browse public catalogues")})})]})]}),a.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-amber-100 text-amber-700",children:a.jsx(x.Z,{className:"h-8 w-8"})})]})}):a.jsx("div",{className:"grid gap-4 lg:grid-cols-2",children:s.data.map(s=>{let r=w(s),l=s.item_count??0,i=1===l?e("item"):e("items");return(0,a.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/90 p-6 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,a.jsxs)("span",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-medium ${r.className}`,children:[a.jsx(r.Icon,{className:"h-3.5 w-3.5"}),r.label]}),a.jsx("span",{className:"text-xs text-stone-500",children:e("Updated {date}",{date:j(s.updated_at,t)})})]}),a.jsx("h3",{className:"mt-4 text-xl font-semibold text-stone-900",children:s.name}),a.jsx("p",{className:"mt-2 text-sm text-stone-600",children:s.description??e("Add a description to capture the story behind this collection.")}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-xs text-stone-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(m.Z,{className:"h-4 w-4 text-amber-600"}),e("Created {date}",{date:j(s.created_at,t)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.Z,{className:"h-4 w-4 text-amber-600"}),l," ",i]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(h.Z,{className:"h-4 w-4 text-amber-600"}),e("{count} stars",{count:s.star_count??0})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(u.z,{size:"sm",variant:"secondary",asChild:!0,children:a.jsx(n.default,{href:`/collections/${s.id}`,children:e("View collection")})}),a.jsx(u.z,{size:"sm",variant:"ghost",asChild:!0,children:a.jsx(n.default,{href:`/collections/${s.id}/settings`,children:e("Collection settings")})})]})]})]},s.id)})})]})]})}},8122:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},8332:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},9015:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1468:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},5047:(e,t,s)=>{"use strict";var a=s(7389);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},2062:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>i});var a=s(8570);let r=(0,a.createProxy)(String.raw`/home/endogen/projects/antique-catalogue/frontend/app/(app)/collections/page.tsx`),{__esModule:n,$$typeof:l}=r;r.default;let i=(0,a.createProxy)(String.raw`/home/endogen/projects/antique-catalogue/frontend/app/(app)/collections/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[716,697,449,373],()=>s(3820));module.exports=a})();