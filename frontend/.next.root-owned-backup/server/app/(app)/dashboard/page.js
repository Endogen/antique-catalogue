(()=>{var e={};e.id=40,e.ids=[40],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},91:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),a(3139),a(639),a(5866),a(9157);var s=a(3191),r=a(8716),n=a(7922),o=a.n(n),i=a(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(t,d);let l=["",{children:["(app)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3139)),"/home/endogen/projects/antique-catalogue/frontend/app/(app)/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,639)),"/home/endogen/projects/antique-catalogue/frontend/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,9157)),"/home/endogen/projects/antique-catalogue/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/endogen/projects/antique-catalogue/frontend/app/(app)/dashboard/page.tsx"],u="/(app)/dashboard/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(app)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},3362:(e,t,a)=>{Promise.resolve().then(a.bind(a,7262))},7262:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(326),r=a(7577),n=a(434),o=a(5983),i=a(8122),d=a(3734),l=a(6115),c=a(772),u=a(6824);let m=(e,t)=>{if(!e)return"-";let a=new Date(e);return Number.isNaN(a.getTime())?e:new Intl.DateTimeFormat(t,{month:"short",day:"numeric",year:"numeric"}).format(a)},p=(e,t)=>{if(!e)return"-";let a=new Date(e);return Number.isNaN(a.getTime())?e:new Intl.DateTimeFormat(t,{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(a)},h=e=>e.replace(/[._-]+/g," ");function x(){let{t:e,locale:t}=(0,l.Q)(),[a,x]=r.useState({status:"loading",data:[]}),[g,y]=r.useState({status:"loading",data:[]}),f=r.useCallback(async()=>{x(e=>({...e,status:"loading",error:void 0}));try{let e=await u.Wo.list();x({status:"ready",data:e})}catch(e){x(t=>({status:"error",data:t.data,error:(0,u.k0)(e)?e.detail:"We couldn't load your collections."}))}},[]),b=r.useCallback(async()=>{y(e=>({...e,status:"loading",error:void 0}));try{let e=await u.ir.list({limit:5});y({status:"ready",data:e})}catch(e){y(t=>({status:"error",data:t.data,error:(0,u.k0)(e)?e.detail:"Activity unavailable right now."}))}},[]);r.useEffect(()=>{f(),b()},[b,f]);let j=a.data.length,v="ready"===a.status&&j>0,N=r.useMemo(()=>[...a.data].sort((e,t)=>{let a=new Date(e.updated_at??e.created_at??0).getTime();return new Date(t.updated_at??t.created_at??0).getTime()-a}).slice(0,2),[a.data]);return s.jsx("div",{className:"space-y-8",children:(0,s.jsxs)("section",{className:"grid gap-6 lg:grid-cols-[2fr_1fr] lg:items-start",children:[(0,s.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/80 p-6 shadow-sm",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:e("Your collections")}),s.jsx("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:v?e("Continue your catalogue."):e("Start shaping your first collection.")}),s.jsx("p",{className:"mt-3 text-sm text-stone-600",children:v?e("Jump back into a collection to refine metadata, add items, and keep your archive up to date."):e("Define the fields that matter most for your collection. Once you are ready, share access with collaborators and start capturing items.")}),"loading"===a.status?s.jsx("div",{className:"mt-6 rounded-2xl border border-dashed border-stone-200 bg-white/60 p-4 text-sm text-stone-500",children:e("Loading your collections...")}):"error"===a.status?s.jsx("div",{className:"mt-6 rounded-2xl border border-rose-200 bg-rose-50/70 p-4 text-sm text-rose-600",children:e(a.error??"We couldn't load your collections.")}):0===a.data.length?s.jsx("div",{className:"mt-6 rounded-2xl border border-stone-200 bg-stone-50/80 p-4 text-sm text-stone-600",children:e("No collections yet. Create one to start cataloguing.")}):s.jsx("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:N.map(a=>(0,s.jsxs)("div",{className:"rounded-2xl border border-stone-200 bg-white/90 p-4 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-stone-500",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-2",children:[s.jsx(o.Z,{className:"h-3.5 w-3.5 text-amber-600"}),a.is_public?e("Public"):e("Private")]}),s.jsx("span",{children:e("Updated {date}",{date:m(a.updated_at,t)})})]}),s.jsx("h3",{className:"mt-3 text-base font-semibold text-stone-900",children:a.name}),s.jsx("p",{className:"mt-1 text-xs text-stone-600",children:a.description??e("Add a description to capture the story behind this collection.")}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between text-xs text-stone-500",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-2",children:[s.jsx(i.Z,{className:"h-3.5 w-3.5 text-amber-600"}),e("Created {date}",{date:m(a.created_at,t)})]}),(0,s.jsxs)("span",{className:"inline-flex items-center gap-1",children:[s.jsx(d.Z,{className:"h-3.5 w-3.5 text-amber-600"}),e("{count} stars",{count:a.star_count??0})]})]}),s.jsx(c.z,{size:"sm",variant:"secondary",asChild:!0,children:s.jsx(n.default,{href:`/collections/${a.id}`,children:e("Open")})})]})]},a.id))}),(0,s.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3",children:[s.jsx(c.z,{variant:"secondary",asChild:!0,children:s.jsx(n.default,{href:"/collections",children:e("View all collections")})}),s.jsx(c.z,{variant:"ghost",asChild:!0,children:s.jsx(n.default,{href:"/collections/new",children:e("New collection")})})]})]}),s.jsx("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/80 p-6 shadow-sm",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-stone-500",children:e("Recent activity")}),s.jsx("h2",{className:"font-display mt-3 text-2xl text-stone-900",children:e("Latest updates from your archive.")}),"loading"===g.status&&0===g.data.length?s.jsx("p",{className:"mt-4 text-sm text-stone-500",children:e("Loading activity...")}):"error"===g.status&&0===g.data.length?s.jsx("p",{className:"mt-4 text-sm text-rose-600",children:e(g.error??"Activity unavailable right now.")}):0===g.data.length?s.jsx("p",{className:"mt-4 text-sm text-stone-600",children:e("No activity yet. Create a collection to start your timeline.")}):s.jsx("ul",{className:"mt-4 space-y-3",children:g.data.map(a=>{let r="item.created"===a.action_type,o=a.target_path??("collection"===a.resource_type&&a.resource_id?`/collections/${a.resource_id}`:null);return(0,s.jsxs)("li",{className:"rounded-2xl border border-stone-200 bg-white p-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-amber-700",children:h(a.action_type)}),s.jsx("span",{className:"text-xs text-stone-500",children:p(a.created_at,t)})]}),(0,s.jsxs)("div",{className:"mt-2 flex items-center justify-between gap-3",children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:a.summary}),o?s.jsx(c.z,{size:"sm",variant:"ghost",asChild:!0,children:s.jsx(n.default,{href:o,children:r?e("View"):e("Open")})}):null]})]},a.id)})})]})})]})})}},8122:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(6557).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},5047:(e,t,a)=>{"use strict";var s=a(7389);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},3139:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>i});var s=a(8570);let r=(0,s.createProxy)(String.raw`/home/endogen/projects/antique-catalogue/frontend/app/(app)/dashboard/page.tsx`),{__esModule:n,$$typeof:o}=r;r.default;let i=(0,s.createProxy)(String.raw`/home/endogen/projects/antique-catalogue/frontend/app/(app)/dashboard/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[716,697,449,373],()=>a(91));module.exports=s})();