(()=>{var e={};e.id=27,e.ids=[27],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},811:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c}),s(1211),s(639),s(5866),s(9157);var a=s(3191),r=s(8716),n=s(7922),l=s.n(n),o=s(5231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let c=["",{children:["(app)",{children:["stars",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1211)),"/home/endogen/projects/antique-catalogue/frontend/app/(app)/stars/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,639)),"/home/endogen/projects/antique-catalogue/frontend/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,9157)),"/home/endogen/projects/antique-catalogue/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/endogen/projects/antique-catalogue/frontend/app/(app)/stars/page.tsx"],m="/(app)/stars/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(app)/stars/page",pathname:"/stars",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6878:(e,t,s)=>{Promise.resolve().then(s.bind(s,4947))},4947:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(326),r=s(7577),n=s(434),l=s(1468),o=s(8307),i=s(5983),c=s(8122),d=s(3734),m=s(6407),x=s(6115),u=s(772),h=s(6824);let p=(e,t)=>{if(!e)return"-";let s=new Date(e);return Number.isNaN(s.getTime())?e:new Intl.DateTimeFormat(t,{month:"short",day:"numeric",year:"numeric"}).format(s)};function g(){let{t:e,locale:t}=(0,x.Q)(),[s,g]=r.useState(""),[b,f]=r.useState(0),[j,y]=r.useState("collections"),[v,N]=r.useState({status:"loading",collections:[],items:[]});r.useEffect(()=>{let e=!0,t=setTimeout(()=>{(async()=>{N(e=>({...e,status:"loading",error:void 0}));try{let t=s.trim(),[a,r]=await Promise.all([h.Y4.listCollections({q:t||void 0,limit:100}),h.Y4.listItems({q:t||void 0,limit:100})]);if(!e)return;N({status:"ready",collections:a,items:r})}catch(t){if(!e)return;N(e=>({status:"error",collections:e.collections,items:e.items,error:(0,h.k0)(t)?t.detail:"We couldn't load your stars."}))}})()},250);return()=>{e=!1,clearTimeout(t)}},[s,b]);let w=v.collections.length+v.items.length,_="collections"===j?v.collections.length:v.items.length;return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("header",{className:"rounded-3xl border border-stone-200 bg-white/80 p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-amber-700",children:e("Stars")}),a.jsx("h1",{className:"font-display mt-3 text-3xl text-stone-900",children:e("Your starred archive.")}),a.jsx("p",{className:"mt-2 text-sm text-stone-600",children:e("Review everything you have starred across collections and items.")})]}),(0,a.jsxs)(u.z,{variant:"outline",onClick:()=>f(e=>e+1),children:[a.jsx(l.Z,{className:"h-4 w-4"}),e("Refresh")]})]}),(0,a.jsxs)("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{className:"relative sm:max-w-xl sm:flex-1",children:[a.jsx(o.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-stone-400"}),a.jsx("input",{type:"search",placeholder:e("Search your starred items and collections"),className:"h-11 w-full rounded-full border border-stone-200 bg-white pl-9 pr-3 text-sm text-stone-700 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200",value:s,onChange:e=>g(e.target.value)})]}),a.jsx("span",{className:"text-xs text-stone-500",children:e("{count} stars",{count:w})})]})]}),"loading"===v.status&&0===w?a.jsx("div",{className:"rounded-3xl border border-dashed border-stone-200 bg-white/70 p-8 text-sm text-stone-500","aria-busy":"true",children:e("Loading your stars...")}):"error"===v.status&&0===w?a.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/70 p-6 text-sm text-rose-700",children:e(v.error??"We couldn't load your stars.")}):0===w?(0,a.jsxs)("div",{className:"rounded-3xl border border-stone-200 bg-white/80 p-8",children:[a.jsx("p",{className:"text-sm font-medium text-stone-700",children:e("No stars yet.")}),a.jsx("p",{className:"mt-2 text-sm text-stone-500",children:e("Star public collections or items to save them here.")}),a.jsx("div",{className:"mt-6",children:a.jsx(u.z,{asChild:!0,children:a.jsx(n.default,{href:"/explore",children:e("Explore public collections")})})})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"inline-flex rounded-full border border-stone-200 bg-white p-1 shadow-sm",role:"tablist","aria-label":e("Starred items and collections"),children:[a.jsx("button",{type:"button",role:"tab","aria-selected":"collections"===j,onClick:()=>y("collections"),className:`rounded-full px-4 py-2 text-sm font-medium transition ${"collections"===j?"bg-stone-900 text-white shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:e("Collections")}),a.jsx("button",{type:"button",role:"tab","aria-selected":"items"===j,onClick:()=>y("items"),className:`rounded-full px-4 py-2 text-sm font-medium transition ${"items"===j?"bg-stone-900 text-white shadow-sm":"text-stone-600 hover:text-stone-900"}`,children:e("Items")})]}),a.jsx("span",{className:"text-xs text-stone-500",children:e("{count} total",{count:_})})]}),"collections"===j?0===v.collections.length?a.jsx("div",{className:"rounded-3xl border border-dashed border-stone-200 bg-white/70 p-6 text-sm text-stone-500",children:e("No starred collections match this search.")}):a.jsx("div",{className:"grid gap-4 lg:grid-cols-2",children:v.collections.map(s=>(0,a.jsxs)("div",{className:"rounded-2xl border border-stone-200 bg-white/90 p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3 text-xs text-stone-500",children:[(0,a.jsxs)("span",{className:"inline-flex items-center gap-1",children:[a.jsx(i.Z,{className:"h-3.5 w-3.5 text-amber-600"}),s.is_public?e("Public"):e("Private")]}),a.jsx("span",{children:e("Starred {date}",{date:p(s.starred_at,t)})})]}),a.jsx("h3",{className:"mt-3 text-base font-semibold text-stone-900",children:s.name}),a.jsx("p",{className:"mt-1 text-xs text-stone-600",children:s.description??e("No description provided.")}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 text-xs text-stone-500",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsxs)("span",{className:"inline-flex items-center gap-1",children:[a.jsx(c.Z,{className:"h-3.5 w-3.5 text-amber-600"}),e("Created {date}",{date:p(s.created_at,t)})]}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-1",children:[a.jsx(d.Z,{className:"h-3.5 w-3.5 text-amber-600"}),s.star_count]}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-1",children:[a.jsx(i.Z,{className:"h-3.5 w-3.5 text-amber-600"}),s.item_count]})]}),a.jsx(u.z,{size:"sm",variant:"secondary",asChild:!0,children:a.jsx(n.default,{href:s.target_path,children:e("Open")})})]})]},s.id))}):0===v.items.length?a.jsx("div",{className:"rounded-3xl border border-dashed border-stone-200 bg-white/70 p-6 text-sm text-stone-500",children:e("No starred items match this search.")}):a.jsx("div",{className:"grid gap-4 lg:grid-cols-2",children:v.items.map(s=>{let r=s.image_count??0,n=1===r?e("{count} image",{count:r}):e("{count} images",{count:r});return a.jsx(m.x,{href:s.target_path,title:s.name,eyebrow:s.collection_name,createdLabel:e("Starred {date}",{date:p(s.starred_at,t)}),description:s.notes,descriptionFallback:e("No description provided."),metadata:[{label:e("Created"),value:p(s.created_at,t)}],metadataFallback:e("Open item details for full metadata."),imageSrc:s.primary_image_id?h.Rf.url(s.primary_image_id,"medium"):null,imageAlt:s.name,imageFallbackLabel:e("No image"),starCount:s.star_count,imageCount:r,imageCountLabel:n,isHighlighted:s.is_highlight,highlightClassName:"border-amber-400 ring-2 ring-amber-300/70 shadow-[0_0_0_1px_rgba(251,191,36,0.85),0_0_28px_2px_rgba(217,119,6,0.25)]",openLabel:e("Open")},`${s.collection_id}-${s.id}`)})})]})]})}},6407:(e,t,s)=>{"use strict";s.d(t,{x:()=>x});var a=s(326),r=s(434),n=s(6226),l=s(1709),o=s(3734);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(6557).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var c=s(1708),d=s(7863);let m=(e,t)=>e.length<=t?e:`${e.slice(0,t)}...`;function x({href:e,title:t,eyebrow:s,createdLabel:x,description:u,descriptionFallback:h,metadata:p=[],metadataFallback:g,metadataOverflowLabel:b,imageSrc:f,imageAlt:j,imageFallbackLabel:y,starCount:v,imageCount:N,imageCountLabel:w,isHighlighted:_=!1,highlightClassName:k,onToggleStar:P,isStarred:q=!1,starDisabled:C=!1,openLabel:M,className:R}){let S=m(t,70),Z=u?.trim()?m(u,180):h,L=p.slice(0,2),$=p.length>L.length,E=(0,c.N)(f??null);return(0,a.jsxs)("article",{className:(0,d.cn)("flex h-full min-h-[31rem] flex-col rounded-3xl border border-stone-200 bg-white/90 p-5 shadow-sm",_?k:null,R),children:[(0,a.jsxs)(r.default,{href:e,className:"flex flex-1 flex-col",children:[a.jsx("div",{className:"h-44 overflow-hidden rounded-2xl border border-stone-100 bg-stone-50",children:E?a.jsx(n.default,{src:E,alt:j??t,width:640,height:352,className:"block h-full w-full object-cover",unoptimized:!0}):(0,a.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-2 bg-gradient-to-br from-stone-100 via-stone-50 to-amber-100/50 text-stone-500",children:[a.jsx(l.Z,{className:"h-5 w-5 text-amber-700"}),a.jsx("p",{className:"text-xs uppercase tracking-[0.2em]",children:y})]})}),a.jsx("p",{className:"mt-4 text-[10px] font-medium uppercase tracking-[0.3em] text-stone-400",children:s}),a.jsx("h3",{className:"mt-2 min-h-[3.25rem] text-lg font-semibold leading-snug text-stone-900",children:S}),a.jsx("p",{className:"mt-1 min-h-[1.25rem] text-xs text-stone-500",children:x??"\xa0"}),a.jsx("p",{className:"mt-3 min-h-[3.5rem] text-sm text-stone-600",children:Z}),a.jsx("div",{className:"mt-4 h-24 rounded-2xl border border-stone-100 bg-stone-50 px-3 py-3 text-xs text-stone-600",children:0===L.length?a.jsx("p",{className:"text-stone-500",children:g}):(0,a.jsxs)("div",{className:"space-y-2",children:[L.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[a.jsx("span",{className:"font-medium text-stone-700",children:m(e.label,24)}),a.jsx("span",{className:"text-right text-stone-500",children:m(e.value,28)})]},`${e.label}-${e.value}`)),$?a.jsx("p",{className:"text-[11px] text-stone-400",children:b??`+${p.length-L.length} more`}):null]})})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:["number"==typeof v?P?(0,a.jsxs)("button",{type:"button",className:(0,d.cn)("inline-flex items-center gap-1 rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-xs font-medium text-stone-600 transition","hover:border-amber-300 hover:text-amber-700",C?"cursor-not-allowed opacity-60":null),onClick:P,disabled:C,children:[a.jsx(o.Z,{className:(0,d.cn)("h-3.5 w-3.5",q?"fill-current text-amber-600":"text-amber-600")}),v]}):(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-xs font-medium text-stone-600",children:[a.jsx(o.Z,{className:"h-3.5 w-3.5 text-amber-600"}),v]}):null,"number"==typeof N?(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border border-stone-200 bg-stone-50 px-2.5 py-1 text-xs font-medium text-stone-600",children:[a.jsx(l.Z,{className:"h-3.5 w-3.5 text-amber-600"}),"string"==typeof w&&w.trim()?w:N]}):null]}),(0,a.jsxs)(r.default,{href:e,className:"inline-flex items-center gap-1 text-xs font-medium uppercase tracking-[0.2em] text-stone-500 transition hover:text-stone-900",children:[M,a.jsx(i,{className:"h-3.5 w-3.5"})]})]})]})}},1708:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});var a=s(7577);function r(e){let[t,s]=a.useState(null);return a.useEffect(()=>{if(!e){s(e=>(e&&URL.revokeObjectURL(e),null));return}let t=null,a=new AbortController;return(async()=>{try{let r=await fetch(e,{headers:{},cache:"no-store",signal:a.signal});if(!r.ok){s(null);return}let n=await r.blob();t=URL.createObjectURL(n),s(e=>(e&&URL.revokeObjectURL(e),t))}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)return;s(null)}})(),()=>{a.abort(),t&&URL.revokeObjectURL(t)}},[e]),t}},8122:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},1709:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},1468:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(6557).Z)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},5047:(e,t,s)=>{"use strict";var a=s(7389);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},1211:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});var a=s(8570);let r=(0,a.createProxy)(String.raw`/home/endogen/projects/antique-catalogue/frontend/app/(app)/stars/page.tsx`),{__esModule:n,$$typeof:l}=r;r.default;let o=(0,a.createProxy)(String.raw`/home/endogen/projects/antique-catalogue/frontend/app/(app)/stars/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[716,697,449,373],()=>s(811));module.exports=a})();