exports.id=373,exports.ids=[373],exports.modules={7481:(e,t,s)=>{Promise.resolve().then(s.bind(s,3044)),Promise.resolve().then(s.bind(s,8894))},3044:(e,t,s)=>{"use strict";s.d(t,{AppShell:()=>C});var r=s(326),n=s(7577),a=s(6226),l=s(434),o=s(5047),i=s(6557);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var d=s(3634),u=s(5983),h=s(1572),x=s(3734);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,i.Z)("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);var p=s(214);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,i.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),b=(0,i.Z)("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);var g=s(4019);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,i.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var v=s(8307),j=s(1810),k=s(209),w=s(6115),N=s(772),Z=s(7863);let S=({onNavigate:e,onClose:t})=>{let s=(0,o.usePathname)(),{t:n}=(0,w.Q)(),i=[{label:n("Dashboard"),href:"/dashboard",description:n("Your private archive"),icon:c,match:["/dashboard"]},{label:n("Speed Capture"),href:"/speed-capture",description:n("Quick photo-first cataloguing"),icon:d.Z,match:["/speed-capture"]},{label:n("Collections"),href:"/collections",description:n("Saved collections"),icon:u.Z,match:["/collections"]},{label:n("Schema templates"),href:"/schema-templates",description:n("Reusable metadata schemas"),icon:h.Z,match:["/schema-templates"]},{label:n("Stars"),href:"/stars",description:n("Starred items and collections"),icon:x.Z,match:["/stars"]},{label:n("Profile"),href:"/profile",description:n("Your public profile"),icon:m,match:["/profile"]},{label:n("Settings"),href:"/settings",description:n("Profile and security"),icon:p.Z,match:["/settings"]}],y=[{label:n("Home"),href:"/",description:n("Return to the homepage"),icon:f,match:["/"]},{label:n("Explore"),href:"/explore",description:n("Public collections"),icon:b,match:["/explore"]}];return(0,r.jsxs)("div",{className:"relative flex h-full flex-col gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(l.default,{href:"/",className:"flex items-center gap-3",onClick:e,children:[r.jsx(a.default,{src:"/logo.png",alt:"Antique Catalogue",width:44,height:44,className:"rounded-full"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-display text-lg tracking-tight text-stone-100",children:n("Antique Catalogue")}),r.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-stone-400",children:n("Studio Archive")})]})]}),t?r.jsx("button",{type:"button",className:"flex h-9 w-9 items-center justify-center rounded-full border border-stone-700 text-stone-200 transition hover:border-stone-500 hover:text-stone-100",onClick:t,"aria-label":n("Close menu"),children:r.jsx(g.Z,{className:"h-4 w-4"})}):null]}),r.jsx("nav",{className:"space-y-2",children:i.map(t=>{let n=t.match.some(e=>s===e||s.startsWith(`${e}/`));return(0,r.jsxs)(l.default,{href:t.href,onClick:e,className:(0,Z.cn)("group flex items-start gap-3 rounded-2xl px-3 py-3 transition",n?"bg-amber-100/10 text-amber-50 ring-1 ring-amber-200/30":"text-stone-200 hover:bg-stone-900/60 hover:text-stone-100"),children:[r.jsx("span",{className:(0,Z.cn)("mt-0.5 flex h-8 w-8 items-center justify-center rounded-xl transition",n?"bg-amber-200/15 text-amber-200":"bg-stone-900 text-stone-400 group-hover:text-stone-200"),children:r.jsx(t.icon,{className:"h-4 w-4"})}),(0,r.jsxs)("span",{children:[r.jsx("span",{className:"text-sm font-medium",children:t.label}),r.jsx("span",{className:(0,Z.cn)("mt-1 block text-xs",n?"text-amber-200/80":"text-stone-400"),children:t.description})]})]},t.href)})}),r.jsx("div",{className:"my-2 border-t border-stone-800/70"}),r.jsx("nav",{className:"space-y-2",children:y.map(t=>{let n=t.match.some(e=>s===e||s.startsWith(`${e}/`));return(0,r.jsxs)(l.default,{href:t.href,onClick:e,className:(0,Z.cn)("group flex items-start gap-3 rounded-2xl px-3 py-3 transition",n?"bg-amber-100/10 text-amber-50 ring-1 ring-amber-200/30":"text-stone-200 hover:bg-stone-900/60 hover:text-stone-100"),children:[r.jsx("span",{className:(0,Z.cn)("mt-0.5 flex h-8 w-8 items-center justify-center rounded-xl transition",n?"bg-amber-200/15 text-amber-200":"bg-stone-900 text-stone-400 group-hover:text-stone-200"),children:r.jsx(t.icon,{className:"h-4 w-4"})}),(0,r.jsxs)("span",{children:[r.jsx("span",{className:"text-sm font-medium",children:t.label}),r.jsx("span",{className:(0,Z.cn)("mt-1 block text-xs",n?"text-amber-200/80":"text-stone-400"),children:t.description})]})]},t.href)})})]})},C=({children:e})=>{let[t,s]=n.useState(!1),a=(0,o.usePathname)(),l=(0,o.useRouter)(),i=(0,o.useSearchParams)(),{logout:c}=(0,k.a)(),{t:d}=(0,w.Q)(),[u,h]=n.useState(!1),[x,m]=n.useState(i.get("query")??"");n.useEffect(()=>{m(i.get("query")??"")},[i]);let p=e=>{if("Enter"!==e.key)return;e.preventDefault();let t=e.currentTarget.value.trim();t&&l.push(`/search?query=${encodeURIComponent(t)}`)},f=async()=>{if(!u){h(!0);try{await c()}finally{h(!1)}}};return n.useEffect(()=>{s(!1)},[a]),n.useEffect(()=>{if(!t){document.body.style.overflow="";return}return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[t]),n.useEffect(()=>{if(!t)return;let e=e=>{"Escape"===e.key&&s(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t]),(0,r.jsxs)("div",{className:"relative min-h-screen bg-stone-50 text-stone-950",children:[(0,r.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-32 right-[-6rem] h-72 w-72 rounded-full bg-amber-200/30 blur-[140px]"}),r.jsx("div",{className:"absolute bottom-0 left-0 h-64 w-64 rounded-full bg-stone-900/10 blur-[120px]"}),r.jsx("div",{className:"absolute top-1/3 right-1/4 h-40 w-40 rounded-full bg-amber-100/40 blur-[90px]"})]}),(0,r.jsxs)("div",{className:"relative flex min-h-screen",children:[(0,r.jsxs)("aside",{className:"relative hidden h-screen w-72 flex-col overflow-y-auto overscroll-contain border-r border-stone-900/80 bg-stone-950 text-stone-100 lg:sticky lg:top-0 lg:flex",children:[r.jsx("div",{className:"pointer-events-none absolute -top-24 left-10 h-32 w-32 rounded-full bg-amber-300/20 blur-[90px]"}),r.jsx("div",{className:"relative flex h-full flex-col p-6",children:r.jsx(S,{})})]}),(0,r.jsxs)("div",{className:"flex min-h-screen flex-1 flex-col",children:[(0,r.jsxs)("header",{className:"sticky top-0 z-30 border-b border-stone-200/80 bg-stone-50/80 backdrop-blur",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 lg:px-10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",className:"flex h-10 w-10 items-center justify-center rounded-full border border-stone-200 bg-white/80 text-stone-700 shadow-sm transition hover:border-stone-300 hover:text-stone-900 lg:hidden",onClick:()=>s(!0),"aria-label":d("Open menu"),children:r.jsx(y,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-amber-700",children:d("Workspace")}),r.jsx("p",{className:"font-display text-xl text-stone-900",children:d("Catalogue Studio")})]})]}),(0,r.jsxs)("div",{className:"hidden items-center gap-3 md:flex",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx(v.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-stone-400"}),r.jsx("input",{type:"search",placeholder:d("Search all items"),className:"h-10 w-64 rounded-full border border-stone-200 bg-white/90 pl-9 pr-3 text-sm text-stone-700 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200",value:x,onChange:e=>m(e.target.value),onKeyDown:p})]}),(0,r.jsxs)(N.z,{size:"sm",variant:"secondary",onClick:f,disabled:u,children:[r.jsx(j.Z,{className:"h-4 w-4"}),d(u?"Logging out...":"Log out")]})]})]}),r.jsx("div",{className:"px-6 pb-4 md:hidden",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[r.jsx(v.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-stone-400"}),r.jsx("input",{type:"search",placeholder:d("Search all items"),className:"h-10 w-full rounded-full border border-stone-200 bg-white/90 pl-9 pr-3 text-sm text-stone-700 shadow-sm transition focus:border-amber-300 focus:outline-none focus:ring-2 focus:ring-amber-200",value:x,onChange:e=>m(e.target.value),onKeyDown:p})]}),r.jsx(N.z,{size:"sm",variant:"secondary",onClick:f,disabled:u,children:d(u?"Logging out...":"Log out")})]})})]}),r.jsx("main",{className:"flex-1 px-6 pb-12 pt-8 lg:px-10",children:e})]})]}),t?(0,r.jsxs)("div",{className:"fixed inset-0 z-40 lg:hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-stone-950/60",onClick:()=>s(!1)}),r.jsx("div",{className:"absolute left-0 top-0 h-full w-80 max-w-[85vw] overflow-y-auto overscroll-contain border-r border-stone-900 bg-stone-950 p-6 text-stone-100 shadow-2xl",children:r.jsx(S,{onNavigate:()=>s(!1),onClose:()=>s(!1)})})]}):null]})}},8894:(e,t,s)=>{"use strict";s.d(t,{AuthGuard:()=>c});var r=s(326),n=s(7577),a=s(5047),l=s(209),o=s(6115);let i=e=>{if(!e)return"/login";let t=encodeURIComponent(e);return`/login?next=${t}`},c=({children:e})=>{let{status:t}=(0,l.a)(),s=(0,a.useRouter)(),c=(0,a.usePathname)(),{t:d}=(0,o.Q)();return(n.useEffect(()=>{"unauthenticated"===t&&s.replace(i(c))},[t,c,s]),"loading"===t)?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-stone-50 text-sm text-stone-500",children:d("Loading your workspace...")}):"unauthenticated"===t?null:r.jsx(r.Fragment,{children:e})}},772:(e,t,s)=>{"use strict";s.d(t,{z:()=>c});var r=s(326),n=s(7577),a=s(6438),l=s(9360),o=s(7863);let i=(0,l.j)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...l},c)=>{let d=n?a.g7:"button";return r.jsx(d,{className:(0,o.cn)(i({variant:t,size:s,className:e})),ref:c,...l})});c.displayName="Button"},7863:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var r=s(1135),n=s(1009);function a(...e){return(0,n.m6)((0,r.W)(e))}},6557:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(7577),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,r.forwardRef)(({color:s="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,...u},h)=>(0,r.createElement)("svg",{ref:h,...n,width:l,height:l,stroke:s,strokeWidth:i?24*Number(o)/Number(l):o,className:["lucide",`lucide-${a(e)}`,c].join(" "),...u},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s}},5983:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(6557).Z)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},1810:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(6557).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},8307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},214:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(6557).Z)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]])},1572:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(6557).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},3734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(6557).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},4019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(6557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3634:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(6557).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},639:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(9510),n=s(8570);let a=(0,n.createProxy)(String.raw`/home/endogen/projects/antique-catalogue/frontend/components/app-shell.tsx`),{__esModule:l,$$typeof:o}=a;a.default;let i=(0,n.createProxy)(String.raw`/home/endogen/projects/antique-catalogue/frontend/components/app-shell.tsx#AppShell`),c=(0,n.createProxy)(String.raw`/home/endogen/projects/antique-catalogue/frontend/components/auth-guard.tsx`),{__esModule:d,$$typeof:u}=c;c.default;let h=(0,n.createProxy)(String.raw`/home/endogen/projects/antique-catalogue/frontend/components/auth-guard.tsx#AuthGuard`);function x({children:e}){return r.jsx(h,{children:r.jsx(i,{children:e})})}}};